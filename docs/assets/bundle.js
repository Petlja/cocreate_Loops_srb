(()=>{"use strict";var t={177:(t,e,o)=>{o.r(e)}},e={};function o(n){var i=e[n];if(void 0!==i)return i.exports;var s=e[n]={exports:{}};return t[n](s,s.exports,o),s.exports}o.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{!function(){function t(t,e){var o=t.active_lessons,n=t.externalLinkLinks,i=t.externalLinkTexts,s=t.lang,r=t.longDesc,a=t.nav_link,u=t.requirements,l=t.shortDesc,h=t.toc,d=t.title,m=t.willLearn;this.x={},Object.assign(this,{active_lessons:o,externalLinkLinks:n,externalLinkTexts:i,lang:s,longDesc:r,nav_link:a,requirements:u,shortDesc:l,toc:h,title:d,willLearn:m}),this.buildPath=e;for(var v=0,f=0;f<o.length;f++)for(var p=0;p<o[f].active_activities.length;p++)this.x[c(f,p)]=v,v++}t.prototype.getLessonsCount=function(){return this.active_lessons.length},t.prototype.getActivityOrderNumber=function(t){return this.x[c(t.lectureNumber,t.activityNumber)]},t.prototype.getActivityCount=function(){return this.active_lessons.reduce((function(t,e){return t+e.active_activities.length}),0)},t.prototype.getActivityURL=function(t,e){return this.buildPath+"/"+this.active_lessons[t].folder_url+"/"+this.active_lessons[t].active_activities[e].toc_url+".html"},t.prototype.inSingleLectureMode=function(){return 1==this.getActivityCount()},t.prototype.isNextLecturePossible=function(t){return this.active_lessons[t.lectureNumber].active_activities.length-1!=t.activityNumber||this.active_lessons.length-1!=t.lectureNumber},t.prototype.nextLecture=function(t){return this.active_lessons[t.lectureNumber].active_activities.length-1>t.activityNumber?{lectureNumber:t.lectureNumber,activityNumber:t.activityNumber+1}:{lectureNumber:t.lectureNumber+1,activityNumber:0}},t.prototype.isPreviousLecturePossible=function(t){return 0!=t.lectureNumber||0!=t.activityNumber},t.prototype.previousLecture=function(t){return 0!=t.activityNumber?{lectureNumber:t.lectureNumber,activityNumber:t.activityNumber-1}:{lectureNumber:t.lectureNumber-1,activityNumber:this.active_lessons[t.lectureNumber-1].active_activities.length-1}}}();var t=function(){function t(t,e,o,n,i){this.title=n,this.docname=e,this.docPath=t,this.metaData=o,this.subNodes=i}return t.prototype.shouldIncludeNode=function(){return!this.metaData.anchor_link&&"exclude"!==this.metaData.status},t.prototype.numberOfTrueLectures=function(){return u(this).filter((function(t){return t.shouldIncludeNode()})).length-(this.shouldIncludeNode()?1:0)},t}(),e=function(){function t(t){this.includeToc=!0,this.bareContentPath="bc_html",this.title=t.title,t.content_uri.endsWith("/")?this.contentURI=t.content_uri+this.bareContentPath:this.contentURI=t.content_uri+"/"+this.bareContentPath,this.description=t.description,this.tocTree=a(t.toc_tree),this.tocListOrder=u(this.tocTree),this.includeToc=!t.include_toc||t.include_toc}return t.prototype.inSingleLectureMode=function(){return 1==this.tocListOrder.length&&this.includeToc},t.prototype.previousLecture=function(){},t.prototype.getActivityURL=function(t){return this.contentURI+"/"+this.tocListOrder[t].docPath},t.prototype.isPartOfCourse=function(t){for(var e=0;e<this.tocListOrder.length;e++)if(this.tocListOrder[e].docPath==t)return e;return-1},t}();function n(t,e){var o,n;if((n=(o=t.toString()).length)>e)o=o.substring(0,e);else for(var i=n;i<e;i++)o="0"+o;return o}function i(t){for(var e=0;null==t.API&&null!=t.parent&&t.parent!=t&&e<7;){if(e>7)return null;e++,t=window.parent}return t.API}var s="false",r=function(){function t(t){this.API=t,this.startTimeStamp=new Date,this.finishCalled=!1,this.initialized=!1,this.processedUnload=!1,this.reachedEnd=!1,this.ScormProcessInitialize(),this.startTimeStamp=new Date}return t.prototype.commit=function(){this.API.LMSCommit("")},t.prototype.ScormProcessInitialize=function(){if(this.API.LMSInitialize("")==s){var t=this.API.LMSGetLastError(),e="Number: "+t+"\nDescription: "+this.API.LMSGetErrorString(t)+"\nDiagnostic: "+this.API.LMSGetDiagnostic(t);console.log("Error - Could not initialize communication with the LMS.\n\nYour results may not be recorded.\n\n"+e),this.initialized=!1}this.initialized=!0},t.prototype.ScormProcessFinish=function(){var t;if(0!=this.initialized&&1!=this.finishCalled)if(t=this.API.LMSFinish(""),this.finishCalled=!0,t!=s);else{var e=this.API.LMSGetLastError(),o="Number: "+e+"\nDescription: "+this.API.LMSGetErrorString(e)+"\nDiagnostic: "+this.API.LMSGetDiagnostic(e);console.log("Error - Could not terminate communication with the LMS.\n\nYour results may not be recorded.\n\n"+o)}},t.prototype.ScormProcessGetValue=function(t){var e;if(0!=this.initialized&&1!=this.finishCalled){if(""==(e=this.API.LMSGetValue(t))){var o=this.API.LMSGetLastError();if("0"!=o){var n="Number: "+o+"\nDescription: "+this.API.LMSGetErrorString(o)+"\nDiagnostic: "+this.API.LMSGetDiagnostic(o);return console.log("Error - Could not retrieve a value from the LMS.\n\n"+n),""}}return e}},t.prototype.ScormProcessSetValue=function(t,e){if(0!=this.initialized&&1!=this.finishCalled&&this.API.LMSSetValue(t,e)==s){var o=this.API.LMSGetLastError(),n="Number: "+o+"\nDescription: "+this.API.LMSGetErrorString(o)+"\nDiagnostic: "+this.API.LMSGetDiagnostic(o);console.log("Error - Could not store a value in the LMS.\n\nYour results may not be recorded.\n\n"+n)}},t.prototype.finishSingleActivityCourse=function(){this.reachedEnd=!0;var t=this.ScormProcessGetValue("cmi.objectives.0.status"),e=this.ScormProcessGetValue("cmi.objectives.0.score.max"),o=this.ScormProcessGetValue("cmi.objectives.0.score.min"),n=this.ScormProcessGetValue("cmi.objectives.0.score.raw");this.ScormProcessSetValue("cmi.core.score.max",e),this.ScormProcessSetValue("cmi.core.score.min",o),this.ScormProcessSetValue("cmi.core.score.raw",n),this.ScormProcessSetValue("cmi.core.lesson_status",t)},t.prototype.setFinishCourse=function(){this.reachedEnd=!0,this.ScormProcessSetValue("cmi.core.score.max","100"),this.ScormProcessSetValue("cmi.core.score.min","0"),this.ScormProcessSetValue("cmi.core.score.raw","100"),this.ScormProcessSetValue("cmi.core.lesson_status","completed")},t.prototype.updateCourseProgress=function(t){this.ScormProcessSetValue("cmi.core.score.max","100"),this.ScormProcessSetValue("cmi.core.score.min","0"),this.ScormProcessSetValue("cmi.core.score.raw",t.toFixed(2)),this.ScormProcessSetValue("cmi.core.lesson_status","completed")},t.prototype.doUnload=function(t){if(void 0===t&&(t=!0),1!=this.processedUnload){this.processedUnload=!0;var e,o,i,s,r,c,a,u,l=(null!=(o=!1)&&null!=o||(o=!0),1e4==(i=((e=(new Date).getTime()-this.startTimeStamp.getTime())-(c=e%1e3)-1e3*(r=(e-c)/1e3%60)-6e4*(s=(e-c-1e3*r)/6e4%60))/36e5)&&(100==(s=(e-36e5*(i=9999))/6e4)&&(s=99),100==(r=(e-36e5*i-6e4*(s=Math.floor(s)))/1e3)&&(r=99),c=e-36e5*i-6e4*s-1e3*(r=Math.floor(r))),a=Math.floor(c/10),u=n(i,4)+":"+n(s,2)+":"+n(r,2),o&&(u+="."+a),i>9999&&(u="9999:99:99",o&&(u+=".99")),u);this.ScormProcessSetValue("cmi.core.session_time",l),0==t&&0==this.reachedEnd&&this.ScormProcessSetValue("cmi.core.exit","suspend"),this.commit(),this.ScormProcessFinish()}},t}();function c(t,e){return t.toString()+"-"+e.toString()}function a(e){var o=e.doc_path,n=e.docname,i=e.meta_data,s=e.title,r=e.children.map((function(t){return a(t)}));return new t(o,n,i,s,r)}function u(t){var e=[];return function t(o){o.shouldIncludeNode()&&e.push(o);for(var n=0,i=o.subNodes;n<i.length;n++)t(i[n])}(t),e}var l=function(){function t(t){this.title=t,localStorage.getItem(t)||localStorage.setItem(t,JSON.stringify(new Array))}return t.prototype.checkProgress=function(t){var e;try{e=localStorage.getItem(this.title)}catch(t){return!1}return!!e&&-1!=JSON.parse(e).indexOf(t)},t.prototype.recordProgress=function(t,e){var o;try{o=localStorage.getItem(this.title)}catch(t){return}if(o){var n=JSON.parse(o);-1==n.indexOf(t)&&(n.push(t),localStorage.setItem(this.title,JSON.stringify(n)))}},t}(),h="completed",d="passed",m=function(){function t(t,e){this.sw=t,this.course=e;for(var o=0;o<=this.course.tocListOrder.length;o++){var n=t.ScormProcessGetValue("cmi.objectives."+o+".status");void 0!==n&&""!=n&&"not attempted"!=n||(this.sw.ScormProcessSetValue("cmi.objectives."+o+".status","incomplete"),this.sw.commit())}}return t.prototype.checkIfComplete=function(){for(var t=!0,e=0,o=0;o<=this.course.tocListOrder.length;o++){var n=this.sw.ScormProcessGetValue("cmi.objectives."+o+".status");n!==h&&n!==d?t=!1:e+=1}t?this.course.tocListOrder.length>1?this.sw.setFinishCourse():this.sw.finishSingleActivityCourse():this.sw.updateCourseProgress(e/this.course.tocListOrder.length*100),this.sw.commit()},t.prototype.checkProgress=function(t){var e=this.course.tocListOrder.findIndex((function(e){return e.docname==t})),o=this.sw.ScormProcessGetValue("cmi.objectives."+e+".status");return o===h||o===d},t.prototype.recordProgress=function(t,e){var o=this.course.tocListOrder.findIndex((function(e){return e.docname==t}));if("quiz"==e.lectureType){var n=(e.score/e.maxScore*100).toFixed(2);this.sw.ScormProcessSetValue("cmi.objectives."+o+".status",d),this.sw.ScormProcessSetValue("cmi.objectives."+o+".score.max","100"),this.sw.ScormProcessSetValue("cmi.objectives."+o+".score.min","0"),this.sw.ScormProcessSetValue("cmi.objectives."+o+".score.raw",n)}else this.sw.ScormProcessSetValue("cmi.objectives."+o+".status",h),this.sw.ScormProcessSetValue("cmi.objectives."+o+".score.max","100"),this.sw.ScormProcessSetValue("cmi.objectives."+o+".score.min","0"),this.sw.ScormProcessSetValue("cmi.objectives."+o+".score.raw","100");this.sw.commit(),this.checkIfComplete()},t}(),v=function(){function t(){}return t.prototype.checkProgress=function(t){return this.progressRecord[t]},t.prototype.recordProgress=function(t,e){this.progressRecord[t]=!0},t}(),f=function(){function t(t,e){if(this.course=t,this.progressManager=e,this.contentSettings={contentTheme:"light",contentZoomFactor:0},this.currentActivity=0,this.lectureHTMLElements=[],this.iFrame=document.getElementById("main-iframe"),this.main=document.getElementById("main"),this.courseContent=document.getElementById("course-content"),this.toc=document.getElementById("toc"),this.tocToggle=document.getElementById("toc-toggle"),this.fontOption=document.getElementById("font-size"),this.fontOptionModal=document.getElementById("font-size-modal"),this.lectureTitleHeader=document.getElementById("lecture-title-header"),this.playerHeader=document.getElementById("player-header"),this.courseTitle=document.getElementById("course-title"),this.contentNav=document.getElementById("content-nav"),this.enlargeFont=document.getElementById("larger-text"),this.reduceFont=document.getElementById("smaller-text"),this.nextActivityButton=document.getElementById("next-activity"),this.previousActivityButton=document.getElementById("previous-activity"),this.courseContentPage=!1,this.courseTitle.innerHTML=t.title,this.course.inSingleLectureMode())this.contentNav.classList.add("content-nav-off"),this.courseContent.classList.add("course-content-fs"),this.tocToggle.style.display="none",this.playerHeader.classList.add("space-around");else{this.course.tocTree.shouldIncludeNode()&&this.toc.append(this.createElement(this.course.tocTree,0));for(var o=0;o<this.course.tocTree.subNodes.length;o++)this.createSections(this.course.tocTree.subNodes[o],this.toc,1);this.isSmallScreen()?(this.contentNav.classList.add("content-nav-off"),this.courseContent.classList.add("course-content-fs"),this.previousScreenSize="small"):(this.contentNav.classList.add("content-nav-on"),this.courseContent.classList.add("course-content-toc"),this.previousScreenSize="large")}this.currentActivity=parseInt(sessionStorage.getItem("activity")||"0",10),this.openContentActivity(this.currentActivity,!0),this.addEventListener()}return t.prototype.addEventListener=function(){var e=this;this.enlargeFont.addEventListener("click",(function(){e.zoomWithFactor(t.zoomFactor),e.contentSettings.contentZoomFactor+=t.zoomFactor})),this.reduceFont.addEventListener("click",(function(){e.zoomWithFactor(-t.zoomFactor),e.contentSettings.contentZoomFactor-=t.zoomFactor})),this.iFrame.addEventListener("load",(function(){var t=parseInt(sessionStorage.getItem("scrollTop")||"0",10);t>0?setTimeout((function(){window.scrollTo(0,t),sessionStorage.removeItem("scrollTop")}),100):window.scrollTo(0,0),e.courseContentPage||(e.onCourseLecture=!1),e.courseContentPage=!1})),window.addEventListener("message",(function(t){e.receiveMessage(t)})),window.addEventListener("click",(function(t){e.fontOption.contains(t.target)?e.fontOptionModal.classList.toggle("hide-element"):e.fontOptionModal.classList.contains("hide-element")||e.fontOptionModal.contains(t.target)||e.fontOptionModal.classList.add("hide-element")})),window.addEventListener("blur",(function(){e.fontOptionModal.classList.add("hide-element")})),this.course.inSingleLectureMode()||(window.addEventListener("resize",(function(){e.isSmallScreen()&&"large"==e.previousScreenSize?(e.navStatus=e.isNavVisible(),e.isNavVisible()&&(e.contentNav.classList.replace("content-nav-on","content-nav-off"),e.courseContent.classList.replace("course-content-toc","course-content-fs")),e.previousScreenSize="small"):e.isSmallScreen()||"small"!=e.previousScreenSize||(e.navStatus?(e.courseContent.classList.replace("course-content-fs","course-content-toc"),setTimeout((function(){e.contentNav.classList.replace("content-nav-off","content-nav-on"),e.lectureHTMLElements[e.currentActivity].scrollIntoView()}),200)):(e.contentNav.classList.replace("content-nav-on","content-nav-off"),e.courseContent.classList.replace("course-content-toc","course-content-fs")),e.previousScreenSize="large")})),this.tocToggle.addEventListener("click",(function(){e.isSmallScreen()&&e.isNavVisible()?(e.toggleClassesOnElement(e.contentNav,"content-nav-on","content-nav-off"),setTimeout((function(){e.toggleClassesOnElement(e.courseContent,"course-content-toc","course-content-fs")}),100)):e.isSmallScreen()&&!e.isNavVisible()?(e.navStatus=!0,e.toggleClassesOnElement(e.courseContent,"course-content-toc","course-content-fs"),setTimeout((function(){e.toggleClassesOnElement(e.contentNav,"content-nav-on","content-nav-off"),e.lectureHTMLElements[e.currentActivity].scrollIntoView()}),200)):!e.isSmallScreen()&&e.isNavVisible()?(e.toggleClassesOnElement(e.contentNav,"content-nav-on","content-nav-off"),setTimeout((function(){e.toggleClassesOnElement(e.courseContent,"course-content-toc","course-content-fs")}),200)):e.isSmallScreen()||e.isNavVisible()||(e.toggleClassesOnElement(e.courseContent,"course-content-toc","course-content-fs"),setTimeout((function(){e.toggleClassesOnElement(e.contentNav,"content-nav-on","content-nav-off"),e.lectureHTMLElements[e.currentActivity].scrollIntoView()}),200))})),this.nextActivityButton.addEventListener("click",(function(){return e.nextActivity()})),this.previousActivityButton.addEventListener("click",(function(){return e.previousActivity()})),window.addEventListener("scroll",(function(){sessionStorage.setItem("scrollTop",document.body.scrollTop.toString())})))},t.prototype.previousActivity=function(){var t=this;this.lectureHTMLElements[this.currentActivity].classList.remove("current"),this.currentActivity-=1,this.openContentActivity(this.currentActivity),this.isSmallScreen()&&(this.toggleClassesOnElement(this.contentNav,"content-nav-on","content-nav-off"),setTimeout((function(){t.toggleClassesOnElement(t.courseContent,"course-content-toc","course-content-fs")}),100))},t.prototype.nextActivity=function(){var t=this;this.lectureHTMLElements[this.currentActivity].classList.remove("current"),this.currentActivity+=1,this.openContentActivity(this.currentActivity),this.isSmallScreen()&&(this.toggleClassesOnElement(this.contentNav,"content-nav-on","content-nav-off"),setTimeout((function(){t.toggleClassesOnElement(t.courseContent,"course-content-toc","course-content-fs")}),100))},t.prototype.sendMessage=function(t){this.iFrame.contentWindow.postMessage(t,"*")},t.prototype.receiveMessage=function(t){if("registerContent"==t.data.type){var e=t.data.data.href;this.revertIframeHeight(),this.determaineIframeStatus(e),this.sendMessage({type:"contentSettings",data:this.contentSettings}),this.progressManager.checkProgress(this.course.tocListOrder[this.currentActivity].docname)&&this.sendMessage({type:"activityStatus",data:!0})}if("registerContentHeight"==t.data.type&&(this.iFrame.style.height=t.data.data.height+"px"),"registerActivityProgress"==t.data.type){var o=t.data.data;this.course.inSingleLectureMode()||this.markAsDone(this.currentActivity),this.onCourseLecture&&this.progressManager.recordProgress(this.course.tocListOrder[this.currentActivity].docname,o)}"hideContentModal"==t.data.type&&this.showingModal&&(document.body.scrollTop=this.scrollPositionBeforeModal,this.showingModal=!1),"showContentModal"==t.data.type&&(this.showingModal=!0,this.scrollPositionBeforeModal=document.body.scrollTop,document.body.scrollTop=0)},t.prototype.revertIframeHeight=function(){this.iFrame.style.height="100vh"},t.prototype.toggleClassesOnElement=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];e.forEach((function(e){return t.classList.toggle(e)}))},t.prototype.zoomWithFactor=function(t){this.sendMessage({type:"zoomByFactor",data:t})},t.prototype.setCurrentTitle=function(t){this.lectureTitleHeader.innerHTML=t},t.prototype.frameActivity=function(t){this.iFrame.setAttribute("src",this.course.getActivityURL(t)),this.setCurrentTitle(this.course.tocListOrder[t].title)},t.prototype.isNavVisible=function(){return this.contentNav.classList.contains("content-nav-on")},t.prototype.isSmallScreen=function(){return this.main.clientWidth<=t.MEDIA_QUERY_WIDTH},t.prototype.createSections=function(t,e,o){var n=this.createElement(t,o);if(e.append(n),t.numberOfTrueLectures()>0){var i=document.createElement("ul");i.classList.add("toggle-off","sub-section-wrapper"),n.firstChild.addEventListener("click",(function(){i.classList.toggle("toggle-off")}));for(var s=0,r=t.subNodes;s<r.length;s++){var c=r[s];(c.shouldIncludeNode()||c.numberOfTrueLectures()>0)&&this.createSections(c,i,o+1)}n.append(i)}},t.prototype.createElement=function(t,e){var o=this,n=document.createElement("li"),i=document.createElement("a");return n.classList.add("toctree-l"+e),i.classList.add("reference","internal"),i.innerHTML=t.title,n.append(i),t.numberOfTrueLectures()>0&&e>0&&i.classList.add("has-children"),t.shouldIncludeNode()&&(this.lectureHTMLElements.push(i),i.addEventListener("click",(function(){o.isSmallScreen()&&(o.toggleClassesOnElement(o.contentNav,"content-nav-on","content-nav-off"),setTimeout((function(){o.toggleClassesOnElement(o.courseContent,"course-content-toc","course-content-fs")}),100));var e=o.course.tocListOrder.indexOf(t);o.currentActivity!==e&&o.openContentActivity(e)}))),n},t.prototype.openContentActivity=function(t,e){void 0===e&&(e=!1),sessionStorage.setItem("activity",t.toString()),e||sessionStorage.setItem("scrollTop","0"),this.frameActivity(t);var o=this.currentActivity;this.currentActivity=t,this.course.inSingleLectureMode()||(this.lectureHTMLElements[o].classList.remove("current"),this.lectureHTMLElements[this.currentActivity].classList.add("current"),this.lectureHTMLElements[this.currentActivity].parentElement.parentElement.classList.remove("toggle-off"),this.updateButtonStatus())},t.prototype.markAsDone=function(t){console.log("done"+this.lectureHTMLElements[t])},t.prototype.updateButtonStatus=function(){this.currentActivity==this.course.tocListOrder.length-1?this.nextActivityButton.disabled=!0:this.nextActivityButton.disabled=!1,0==this.currentActivity?this.previousActivityButton.disabled=!0:this.previousActivityButton.disabled=!1},t.prototype.determaineIframeStatus=function(t){this.courseContentPage=!0;var e=t.replace(this.course.contentURI+"/",""),o=this.course.isPartOfCourse(e);-1!=o?(o!=this.currentActivity&&this.openContentActivity(o),this.onCourseLecture=!0):this.onCourseLecture=!1},t.MEDIA_QUERY_WIDTH=1150,t.zoomFactor=1,t}();o(177),window.addEventListener("load",(function(){fetch("course.json").then((function(t){return t.json()})).then((function(t){var o,n,s=new e(t),c=(null==(n=i(window))&&null!=window.opener&&void 0!==window.opener&&(n=i(window.opener)),n);if(null!=c){var a=new r(c);o=new m(a,s),window.addEventListener("onbeforeunload",(function(){a.doUnload(!1)})),window.addEventListener("onunload",(function(){a.doUnload()}))}else o=function(){try{return localStorage.setItem("",""),""===localStorage.getItem("")&&(localStorage.removeItem(""),!0)}catch(t){return!1}}()?new l(s.title):new v;new f(s,o)}))}))})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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ekIsR0FBVmtNLEdBQ0dBLEdBQVNuUCxLQUFLMEosaUJBQ2pCMUosS0FBS3lMLG9CQUFvQjBELEdBQ3pCblAsS0FBS2tNLGlCQUFrQixHQUd2QmxNLEtBQUtrTSxpQkFBa0IsQ0FFL0IsRUFuV08sRUFBQW9DLGtCQUFvQixLQUNwQixFQUFBekMsV0FBYSxFQW1XeEIsQyxDQXJXQSxHQ0FBLEVBQVEsS0FLUi9ILE9BQU80SCxpQkFBaUIsUUFBUSxXQUM1QjBELE1BSHlCLGVBSXBCQyxNQUFLLFNBQUNoQyxHQUFTLE9BQUFBLEVBQUtpQyxNQUFMLElBQ2ZELE1BQUssU0FBQ2pOLEdBQ0gsSUFDSW1OLEVIeUZWQyxFRzFGVUMsRUFBZSxJQUFJQyxFQUFhdE4sR0FHaEN1TixHSHlGQyxPQUZYSCxFQUFTL0wsRUFBUUssVUFHQyxNQUFqQkEsT0FBTzhMLGFBQ21CLElBQWxCOUwsT0FBYSxTQUV0QjBMLEVBQVMvTCxFQUFRSyxPQUFPOEwsU0FFckJKLEdHOUZHLEdBQUksTUFBT0csRUFBOEMsQ0FDckQsSUFBSSxFQUFlLElBQUlFLEVBQWFGLEdBQ3BDSixFQUFVLElBQUlPLEVBQWEsRUFBY0wsR0FDekMzTCxPQUFPNEgsaUJBQWlCLGtCQUFpQixXQUFRLEVBQWF6RixVQUFTLEVBQU8sSUFDOUVuQyxPQUFPNEgsaUJBQWlCLFlBQVksV0FBTyxFQUFhekYsVUFBVyxHLE1BS25Fc0osRUgrUFQsV0FDTCxJQUVFLE9BREE1SCxhQUFhRSxRQUFRLEdBQUksSUFDUSxLQUE3QkYsYUFBYUMsUUFBUSxNQUN2QkQsYUFBYXNFLFdBQVcsS0FDakIsRSxDQUlULE1BQU85RCxHQUNQLE9BQVEsQyxDQUVaLENHOVFxQjRILEdBQ0ssSUFBSUMsRUFBb0JQLEVBQWE3UCxPQUVyQyxJQUFJcVEsRUFDRixJQUFJckUsRUFBYTZELEVBQWNGLEVBQ25ELEdBQ1IsRyIsInNvdXJjZXMiOlsid2VicGFjazovL3BldGxqYXBsYXllci93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9wZXRsamFwbGF5ZXIvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9wZXRsamFwbGF5ZXIvLi9zcmMvdXRpbC9Db3Vyc2VDb25maWcudHMiLCJ3ZWJwYWNrOi8vcGV0bGphcGxheWVyLy4vc3JjL3V0aWwvVXRpbHMudHMiLCJ3ZWJwYWNrOi8vcGV0bGphcGxheWVyLy4vc3JjL3V0aWwvQ291cnNlU3RvcmFnZS50cyIsIndlYnBhY2s6Ly9wZXRsamFwbGF5ZXIvLi9zcmMvbW9kZWwvUGV0bGphUGxheWVyLnRzIiwid2VicGFjazovL3BldGxqYXBsYXllci8uL3NyYy9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiaW1wb3J0IHtsZWN0dXJlQWN0aXZpdHlQYWlyfSBmcm9tICcuL1R5cGVzJ1xyXG5pbXBvcnQge2NvbmNhdExlY3R1cmVBY3Rpdml0eSwgY3JlYXRlVHJlZUZyb21Kc29uLCBmbGF0dGVuVHJlZX0gZnJvbSAnLi9VdGlscydcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ291cnNlSlNPTkludGVyZmFjZSB7XHJcbiAgICBhY3RpdmVfbGVzc29uczogQXJyYXk8eyB0aXRsZTogc3RyaW5nLCBmb2xkZXJfdXJsOiBzdHJpbmcsIGFjdGl2ZV9hY3Rpdml0aWVzOiBBcnJheTx7IHRvY191cmw6IHN0cmluZywgdHlwZTogc3RyaW5nLCB0aXRsZTogc3RyaW5nIH0+IH0+O1xyXG4gICAgZXh0ZXJuYWxMaW5rTGlua3M6IEFycmF5PHN0cmluZz47XHJcbiAgICBleHRlcm5hbExpbmtUZXh0czogQXJyYXk8c3RyaW5nPjtcclxuICAgIGxhbmc6IHN0cmluZztcclxuICAgIGxvbmdEZXNjOiBzdHJpbmc7XHJcbiAgICBuYXZfbGluazogc3RyaW5nO1xyXG4gICAgcmVxdWlyZW1lbnRzOiBBcnJheTxzdHJpbmc+O1xyXG4gICAgc2hvcnREZXNjOiBzdHJpbmc7XHJcbiAgICB0b2M6IEFycmF5PHN0cmluZz47XHJcbiAgICB0aXRsZTogc3RyaW5nO1xyXG4gICAgd2lsbExlYXJuOiBBcnJheTxzdHJpbmc+O1xyXG4gICAgYnVpbGRQYXRoOiBzdHJpbmc7XHJcbiAgfTtcclxuICBcclxuICBleHBvcnQgY2xhc3MgQ291cnNlSlNPTiB7XHJcbiAgICBhY3RpdmVfbGVzc29uczogQXJyYXk8eyB0aXRsZTogc3RyaW5nLCBmb2xkZXJfdXJsOiBzdHJpbmcsIGFjdGl2ZV9hY3Rpdml0aWVzOiBBcnJheTx7IHRvY191cmw6IHN0cmluZywgdHlwZTogc3RyaW5nLCB0aXRsZTogc3RyaW5nIH0+IH0+O1xyXG4gICAgZXh0ZXJuYWxMaW5rTGlua3M6IEFycmF5PHN0cmluZz47XHJcbiAgICBleHRlcm5hbExpbmtUZXh0czogQXJyYXk8c3RyaW5nPjtcclxuICAgIGxhbmc6IHN0cmluZztcclxuICAgIGxvbmdEZXNjOiBzdHJpbmc7XHJcbiAgICBuYXZfbGluazogc3RyaW5nO1xyXG4gICAgcmVxdWlyZW1lbnRzOiBBcnJheTxzdHJpbmc+O1xyXG4gICAgc2hvcnREZXNjOiBzdHJpbmc7XHJcbiAgICB0b2M6IEFycmF5PHN0cmluZz47XHJcbiAgICB0aXRsZTogc3RyaW5nO1xyXG4gICAgd2lsbExlYXJuOiBBcnJheTxzdHJpbmc+O1xyXG4gICAgYnVpbGRQYXRoOiBzdHJpbmc7XHJcbiAgICB4IDogUmVjb3JkPHN0cmluZyxudW1iZXI+ID0gIHt9O1xyXG4gIFxyXG4gICAgY29uc3RydWN0b3IoeyBhY3RpdmVfbGVzc29ucywgZXh0ZXJuYWxMaW5rTGlua3MsIGV4dGVybmFsTGlua1RleHRzLCBsYW5nLCBsb25nRGVzYywgbmF2X2xpbmssIHJlcXVpcmVtZW50cywgc2hvcnREZXNjLCB0b2MsIHRpdGxlLCB3aWxsTGVhcm4gfTogQ291cnNlSlNPTkludGVyZmFjZSwgYnVpbGRQYXRoOiBzdHJpbmcpIHtcclxuICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLCB7IGFjdGl2ZV9sZXNzb25zLCBleHRlcm5hbExpbmtMaW5rcywgZXh0ZXJuYWxMaW5rVGV4dHMsIGxhbmcsIGxvbmdEZXNjLCBuYXZfbGluaywgcmVxdWlyZW1lbnRzLCBzaG9ydERlc2MsIHRvYywgdGl0bGUsIHdpbGxMZWFybiB9KTtcclxuICAgICAgdGhpcy5idWlsZFBhdGggPSBidWlsZFBhdGg7XHJcbiAgICAgIGxldCBvcmRlciA9IDA7XHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpPCBhY3RpdmVfbGVzc29ucy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqPCBhY3RpdmVfbGVzc29uc1tpXS5hY3RpdmVfYWN0aXZpdGllcy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgdGhpcy54W2NvbmNhdExlY3R1cmVBY3Rpdml0eShpLGopXSA9IG9yZGVyO1xyXG4gICAgICAgICAgb3JkZXIrKztcclxuICAgICAgICB9ICAgXHJcbiAgICAgIH1cclxuICAgIH1cclxuICBcclxuICAgIGdldExlc3NvbnNDb3VudCgpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuYWN0aXZlX2xlc3NvbnMubGVuZ3RoO1xyXG4gICAgfVxyXG4gIFxyXG4gICAgZ2V0QWN0aXZpdHlPcmRlck51bWJlcihjdXJyZW50TGVjdHVyZTogbGVjdHVyZUFjdGl2aXR5UGFpcikgOiBudW1iZXJ7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMueFtjb25jYXRMZWN0dXJlQWN0aXZpdHkoY3VycmVudExlY3R1cmUubGVjdHVyZU51bWJlciwgY3VycmVudExlY3R1cmUuYWN0aXZpdHlOdW1iZXIpXTtcclxuICAgIH1cclxuICBcclxuICAgIGdldEFjdGl2aXR5Q291bnQoKSB7XHJcbiAgICAgIGNvbnN0IGFjdGl2aXR5Q291bnQgPSAwXHJcbiAgICAgIHJldHVybiB0aGlzLmFjdGl2ZV9sZXNzb25zLnJlZHVjZSgoYWN0aXZpdHlDb3VudCwgbGVzc29uKSA9PiBhY3Rpdml0eUNvdW50ICsgbGVzc29uLmFjdGl2ZV9hY3Rpdml0aWVzLmxlbmd0aCwgYWN0aXZpdHlDb3VudCk7XHJcbiAgICB9XHJcbiAgXHJcbiAgICBnZXRBY3Rpdml0eVVSTChsZXNzb25OdW1iZXI6IG51bWJlciwgYWN0aXZpdHlOdW1iZXI6IG51bWJlcikge1xyXG4gICAgICByZXR1cm4gdGhpcy5idWlsZFBhdGggKyBcIi9cIiArIHRoaXMuYWN0aXZlX2xlc3NvbnNbbGVzc29uTnVtYmVyXS5mb2xkZXJfdXJsICsgXCIvXCIgKyB0aGlzLmFjdGl2ZV9sZXNzb25zW2xlc3Nvbk51bWJlcl0uYWN0aXZlX2FjdGl2aXRpZXNbYWN0aXZpdHlOdW1iZXJdLnRvY191cmwgKyBcIi5odG1sXCJcclxuICAgIH1cclxuICBcclxuICAgIGluU2luZ2xlTGVjdHVyZU1vZGUoKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmdldEFjdGl2aXR5Q291bnQoKSA9PSAxO1xyXG4gICAgfVxyXG4gIFxyXG4gICAgaXNOZXh0TGVjdHVyZVBvc3NpYmxlKGN1cnJlbnRMZWN0dXJlOiBsZWN0dXJlQWN0aXZpdHlQYWlyKTogYm9vbGVhbiB7XHJcbiAgICAgIGlmICh0aGlzLmFjdGl2ZV9sZXNzb25zW2N1cnJlbnRMZWN0dXJlLmxlY3R1cmVOdW1iZXJdLmFjdGl2ZV9hY3Rpdml0aWVzLmxlbmd0aCAtIDEgPT0gY3VycmVudExlY3R1cmUuYWN0aXZpdHlOdW1iZXIgJiZcclxuICAgICAgICB0aGlzLmFjdGl2ZV9sZXNzb25zLmxlbmd0aCAtIDEgPT0gY3VycmVudExlY3R1cmUubGVjdHVyZU51bWJlcikge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICBcclxuICAgIG5leHRMZWN0dXJlKGN1cnJlbnRMZWN0dXJlOiBsZWN0dXJlQWN0aXZpdHlQYWlyKTogbGVjdHVyZUFjdGl2aXR5UGFpciB7XHJcbiAgICAgIGlmICh0aGlzLmFjdGl2ZV9sZXNzb25zW2N1cnJlbnRMZWN0dXJlLmxlY3R1cmVOdW1iZXJdLmFjdGl2ZV9hY3Rpdml0aWVzLmxlbmd0aCAtIDEgPiBjdXJyZW50TGVjdHVyZS5hY3Rpdml0eU51bWJlcikge1xyXG4gICAgICAgIHJldHVybiB7IGxlY3R1cmVOdW1iZXI6IGN1cnJlbnRMZWN0dXJlLmxlY3R1cmVOdW1iZXIsIGFjdGl2aXR5TnVtYmVyOiBjdXJyZW50TGVjdHVyZS5hY3Rpdml0eU51bWJlciArIDEgfVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB7IGxlY3R1cmVOdW1iZXI6IGN1cnJlbnRMZWN0dXJlLmxlY3R1cmVOdW1iZXIgKyAxLCBhY3Rpdml0eU51bWJlcjogMCB9XHJcbiAgICB9XHJcbiAgXHJcbiAgICBpc1ByZXZpb3VzTGVjdHVyZVBvc3NpYmxlKGN1cnJlbnRMZWN0dXJlOiBsZWN0dXJlQWN0aXZpdHlQYWlyKTogYm9vbGVhbiB7XHJcbiAgICAgIGlmIChjdXJyZW50TGVjdHVyZS5sZWN0dXJlTnVtYmVyID09IDAgJiYgY3VycmVudExlY3R1cmUuYWN0aXZpdHlOdW1iZXIgPT0gMCkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICBcclxuICAgIHByZXZpb3VzTGVjdHVyZShjdXJyZW50TGVjdHVyZTogbGVjdHVyZUFjdGl2aXR5UGFpcik6IGxlY3R1cmVBY3Rpdml0eVBhaXIge1xyXG4gICAgICBpZiAoY3VycmVudExlY3R1cmUuYWN0aXZpdHlOdW1iZXIgIT0gMCkge1xyXG4gICAgICAgIHJldHVybiB7IGxlY3R1cmVOdW1iZXI6IGN1cnJlbnRMZWN0dXJlLmxlY3R1cmVOdW1iZXIsIGFjdGl2aXR5TnVtYmVyOiBjdXJyZW50TGVjdHVyZS5hY3Rpdml0eU51bWJlciAtIDF9XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHsgbGVjdHVyZU51bWJlcjogY3VycmVudExlY3R1cmUubGVjdHVyZU51bWJlciAtIDEsIGFjdGl2aXR5TnVtYmVyOiB0aGlzLmFjdGl2ZV9sZXNzb25zW2N1cnJlbnRMZWN0dXJlLmxlY3R1cmVOdW1iZXIgLSAxXS5hY3RpdmVfYWN0aXZpdGllcy5sZW5ndGggLSAxIH1cclxuICAgIH1cclxuICB9O1xyXG5cclxuICBleHBvcnQgY2xhc3MgVG9jVHJlZU5vZGUge1xyXG4gICAgdGl0bGUgOiBzdHJpbmc7XHJcbiAgICBkb2NuYW1lIDogc3RyaW5nO1xyXG4gICAgZG9jUGF0aCA6IHN0cmluZztcclxuICAgIG1ldGFEYXRhIDogYW55OyBcclxuICAgIHN1Yk5vZGVzOiBUb2NUcmVlTm9kZVtdO1xyXG4gIFxyXG4gICAgY29uc3RydWN0b3IoZG9jUGF0aDogc3RyaW5nLCBkb2NuYW1lOiBzdHJpbmcsIG1ldGFEYXRhOiBhbnksIHRpdGxlIDogc3RyaW5nLCBzdWJOb2RlczogVG9jVHJlZU5vZGVbXSkge1xyXG4gICAgICB0aGlzLnRpdGxlID0gdGl0bGU7XHJcbiAgICAgIHRoaXMuZG9jbmFtZSA9IGRvY25hbWU7XHJcbiAgICAgIHRoaXMuZG9jUGF0aCA9IGRvY1BhdGg7XHJcbiAgICAgIHRoaXMubWV0YURhdGEgPSBtZXRhRGF0YVxyXG4gICAgICB0aGlzLnN1Yk5vZGVzID0gc3ViTm9kZXM7XHJcbiAgICB9XHJcbiAgICBzaG91bGRJbmNsdWRlTm9kZSgpe1xyXG4gICAgICByZXR1cm4gIXRoaXMubWV0YURhdGEuYW5jaG9yX2xpbmsgJiYgdGhpcy5tZXRhRGF0YS5zdGF0dXMgIT09ICdleGNsdWRlJyBcclxuICAgIH1cclxuICAgIG51bWJlck9mVHJ1ZUxlY3R1cmVzKCl7XHJcbiAgICAgIHJldHVybiBmbGF0dGVuVHJlZSh0aGlzKS5maWx0ZXIobm9kZSA9PiBub2RlLnNob3VsZEluY2x1ZGVOb2RlKCkpLmxlbmd0aCAtICh0aGlzLnNob3VsZEluY2x1ZGVOb2RlKCkgPyAxIDogMClcclxuICAgIH1cclxuICB9XHJcbiAgZXhwb3J0IGNsYXNzIENvdXJzZUNvbmZpZ3tcclxuICAgIHRpdGxlIDogc3RyaW5nO1xyXG4gICAgZGVzY3JpcHRpb246IHN0cmluZztcclxuICAgIGNvbnRlbnRVUkk6IHN0cmluZztcclxuICAgIHRvY1RyZWUgOiBUb2NUcmVlTm9kZTtcclxuICAgIHRvY0xpc3RPcmRlciA6IFRvY1RyZWVOb2RlW107XHJcbiAgICBpbmNsdWRlVG9jIDogYm9vbGVhbiA9IHRydWU7XHJcblxyXG4gICAgYmFyZUNvbnRlbnRQYXRoIDogc3RyaW5nID0gJ2JjX2h0bWwnO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGNvdXJzZSA6IGFueSl7XHJcbiAgICAgICAgdGhpcy50aXRsZSA9IGNvdXJzZS50aXRsZTtcclxuICAgICAgICBpZiAoY291cnNlLmNvbnRlbnRfdXJpLmVuZHNXaXRoKCcvJykpIHtcclxuICAgICAgICAgIHRoaXMuY29udGVudFVSSSA9IGNvdXJzZS5jb250ZW50X3VyaSArIHRoaXMuYmFyZUNvbnRlbnRQYXRoO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLmNvbnRlbnRVUkkgPSBjb3Vyc2UuY29udGVudF91cmkgKyAnLycgKyB0aGlzLmJhcmVDb250ZW50UGF0aDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IGNvdXJzZS5kZXNjcmlwdGlvbjtcclxuICAgICAgICB0aGlzLnRvY1RyZWUgPSBjcmVhdGVUcmVlRnJvbUpzb24oY291cnNlLnRvY190cmVlKTtcclxuICAgICAgICB0aGlzLnRvY0xpc3RPcmRlciA9IGZsYXR0ZW5UcmVlKHRoaXMudG9jVHJlZSk7XHJcbiAgICAgICAgdGhpcy5pbmNsdWRlVG9jID0gIGNvdXJzZS5pbmNsdWRlX3RvYyA/IGNvdXJzZS5pbmNsdWRlX3RvYyA6IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgaW5TaW5nbGVMZWN0dXJlTW9kZSgpIHtcclxuICAgICAgcmV0dXJuIHRoaXMudG9jTGlzdE9yZGVyLmxlbmd0aCA9PSAxICYmIHRoaXMuaW5jbHVkZVRvYztcclxuICAgIH1cclxuXHJcbiAgICBwcmV2aW91c0xlY3R1cmUoKXtcclxuICAgICAgXHJcbiAgICB9XHJcbiAgICBnZXRBY3Rpdml0eVVSTChvcmRlciA6IG51bWJlcil7XHJcbiAgICAgIHJldHVybiB0aGlzLmNvbnRlbnRVUkkgKyAnLycgKyB0aGlzLnRvY0xpc3RPcmRlcltvcmRlcl0uZG9jUGF0aFxyXG4gICAgfVxyXG5cclxuICAgIGlzUGFydE9mQ291cnNlKGRvY19wYXRoIDogc3RyaW5nKSA6IG51bWJlcntcclxuICAgICAgZm9yIChsZXQgaT0wOyBpPHRoaXMudG9jTGlzdE9yZGVyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKHRoaXMudG9jTGlzdE9yZGVyW2ldLmRvY1BhdGggPT0gZG9jX3BhdGgpIFxyXG4gICAgICAgICAgICByZXR1cm4gaVxyXG4gICAgICB9ICBcclxuICAgICAgcmV0dXJuIC0xXHJcbiAgICB9XHJcbiAgfSIsImltcG9ydCB7Q291cnNlQ29uZmlnLCBUb2NUcmVlTm9kZX0gZnJvbSAnLi9Db3Vyc2VDb25maWcnXHJcbmV4cG9ydCBmdW5jdGlvbiBDb252ZXJ0TWlsbGlTZWNvbmRzVG9TQ09STVRpbWUoaW50VG90YWxNaWxsaXNlY29uZHM6IG51bWJlciwgYmxuSW5jbHVkZUZyYWN0aW9uOiBib29sZWFuKSB7XHJcbiAgbGV0IGludEhvdXJzOiBudW1iZXI7XHJcbiAgbGV0IGludE1pbnV0ZXM6IG51bWJlcjtcclxuICBsZXQgaW50U2Vjb25kczogbnVtYmVyO1xyXG4gIGxldCBpbnRNaWxsaXNlY29uZHM6IG51bWJlcjtcclxuICBsZXQgaW50SHVuZHJlZHRoczogbnVtYmVyO1xyXG4gIGxldCBzdHJDTUlUaW1lU3Bhbjogc3RyaW5nO1xyXG5cclxuICBpZiAoYmxuSW5jbHVkZUZyYWN0aW9uID09IG51bGwgfHwgYmxuSW5jbHVkZUZyYWN0aW9uID09IHVuZGVmaW5lZCkge1xyXG4gICAgICBibG5JbmNsdWRlRnJhY3Rpb24gPSB0cnVlO1xyXG4gIH1cclxuXHJcbiAgLy9leHRyYWN0IHRpbWUgcGFydHNcclxuICBpbnRNaWxsaXNlY29uZHMgPSBpbnRUb3RhbE1pbGxpc2Vjb25kcyAlIDEwMDA7XHJcblxyXG4gIGludFNlY29uZHMgPSAoKGludFRvdGFsTWlsbGlzZWNvbmRzIC0gaW50TWlsbGlzZWNvbmRzKSAvIDEwMDApICUgNjA7XHJcblxyXG4gIGludE1pbnV0ZXMgPSAoKGludFRvdGFsTWlsbGlzZWNvbmRzIC0gaW50TWlsbGlzZWNvbmRzIC0gKGludFNlY29uZHMgKiAxMDAwKSkgLyA2MDAwMCkgJSA2MDtcclxuXHJcbiAgaW50SG91cnMgPSAoaW50VG90YWxNaWxsaXNlY29uZHMgLSBpbnRNaWxsaXNlY29uZHMgLSAoaW50U2Vjb25kcyAqIDEwMDApIC0gKGludE1pbnV0ZXMgKiA2MDAwMCkpIC8gMzYwMDAwMDtcclxuXHJcblxyXG4gIGlmIChpbnRIb3VycyA9PSAxMDAwMCkge1xyXG4gICAgICBpbnRIb3VycyA9IDk5OTk7XHJcblxyXG4gICAgICBpbnRNaW51dGVzID0gKGludFRvdGFsTWlsbGlzZWNvbmRzIC0gKGludEhvdXJzICogMzYwMDAwMCkpIC8gNjAwMDA7XHJcbiAgICAgIGlmIChpbnRNaW51dGVzID09IDEwMCkge1xyXG4gICAgICAgICAgaW50TWludXRlcyA9IDk5O1xyXG4gICAgICB9XHJcbiAgICAgIGludE1pbnV0ZXMgPSBNYXRoLmZsb29yKGludE1pbnV0ZXMpO1xyXG5cclxuICAgICAgaW50U2Vjb25kcyA9IChpbnRUb3RhbE1pbGxpc2Vjb25kcyAtIChpbnRIb3VycyAqIDM2MDAwMDApIC0gKGludE1pbnV0ZXMgKiA2MDAwMCkpIC8gMTAwMDtcclxuICAgICAgaWYgKGludFNlY29uZHMgPT0gMTAwKSB7XHJcbiAgICAgICAgICBpbnRTZWNvbmRzID0gOTk7XHJcbiAgICAgIH1cclxuICAgICAgaW50U2Vjb25kcyA9IE1hdGguZmxvb3IoaW50U2Vjb25kcyk7XHJcblxyXG4gICAgICBpbnRNaWxsaXNlY29uZHMgPSAoaW50VG90YWxNaWxsaXNlY29uZHMgLSAoaW50SG91cnMgKiAzNjAwMDAwKSAtIChpbnRNaW51dGVzICogNjAwMDApIC0gKGludFNlY29uZHMgKiAxMDAwKSk7XHJcbiAgfVxyXG5cclxuICAvL2Ryb3AgdGhlIGV4dHJhIHByZWNpc2lvbiBmcm9tIHRoZSBtaWxsaXNlY29uZHNcclxuICBpbnRIdW5kcmVkdGhzID0gTWF0aC5mbG9vcihpbnRNaWxsaXNlY29uZHMgLyAxMCk7XHJcblxyXG4gIC8vcHV0IGluIHBhZGRpbmcgMCdzIGFuZCBjb25jYXRpbmF0ZSB0byBnZXQgdGhlIHByb3BlciBmb3JtYXRcclxuICBzdHJDTUlUaW1lU3BhbiA9IFplcm9QYWQoaW50SG91cnMsIDQpICsgXCI6XCIgKyBaZXJvUGFkKGludE1pbnV0ZXMsIDIpICsgXCI6XCIgKyBaZXJvUGFkKGludFNlY29uZHMsIDIpO1xyXG5cclxuICBpZiAoYmxuSW5jbHVkZUZyYWN0aW9uKSB7XHJcbiAgICAgIHN0ckNNSVRpbWVTcGFuICs9IFwiLlwiICsgaW50SHVuZHJlZHRocztcclxuICB9XHJcblxyXG4gIC8vY2hlY2sgZm9yIGNhc2Ugd2hlcmUgdG90YWwgbWlsbGlzZWNvbmRzIGlzIGdyZWF0ZXIgdGhhbiBtYXggc3VwcG9ydGVkIGJ5IHN0ckNNSVRpbWVTcGFuXHJcbiAgaWYgKGludEhvdXJzID4gOTk5OSkge1xyXG4gICAgICBzdHJDTUlUaW1lU3BhbiA9IFwiOTk5OTo5OTo5OVwiO1xyXG5cclxuICAgICAgaWYgKGJsbkluY2x1ZGVGcmFjdGlvbikge1xyXG4gICAgICAgICAgc3RyQ01JVGltZVNwYW4gKz0gXCIuOTlcIjtcclxuICAgICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHN0ckNNSVRpbWVTcGFuO1xyXG5cclxufVxyXG5cclxuZnVuY3Rpb24gWmVyb1BhZChpbnROdW06IG51bWJlciwgaW50TnVtRGlnaXRzOiBudW1iZXIpIHtcclxuICB2YXIgc3RyVGVtcDogc3RyaW5nO1xyXG4gIHZhciBpbnRMZW46IG51bWJlcjtcclxuXHJcbiAgc3RyVGVtcCA9IGludE51bS50b1N0cmluZygpO1xyXG4gIGludExlbiA9IHN0clRlbXAubGVuZ3RoO1xyXG5cclxuICBpZiAoaW50TGVuID4gaW50TnVtRGlnaXRzKSB7XHJcbiAgICAgIHN0clRlbXAgPSBzdHJUZW1wLnN1YnN0cmluZygwLCBpbnROdW1EaWdpdHMpO1xyXG4gIH1cclxuICBlbHNlIHtcclxuICAgICAgZm9yIChsZXQgaSA9IGludExlbjsgaSA8IGludE51bURpZ2l0czsgaSsrKSB7XHJcbiAgICAgICAgICBzdHJUZW1wID0gXCIwXCIgKyBzdHJUZW1wO1xyXG4gICAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gc3RyVGVtcDtcclxufVxyXG5cclxuY29uc3QgRklORF9BUElfVFJJRVNfTElNSVQgPSA3XHJcblxyXG5mdW5jdGlvbiBmaW5kQVBJKHdpbiA6IGFueSkge1xyXG4gIGxldCB0cmllcyA9IDBcclxuICB3aGlsZSAoKHdpbi5BUEkgPT0gbnVsbCkgJiZcclxuICAgICAgKHdpbi5wYXJlbnQgIT0gbnVsbCkgJiZcclxuICAgICAgKHdpbi5wYXJlbnQgIT0gd2luKSAmJiBcclxuICAgICAgKHRyaWVzIDwgRklORF9BUElfVFJJRVNfTElNSVQpKSB7XHJcblxyXG4gICAgICBpZiAodHJpZXMgPiBGSU5EX0FQSV9UUklFU19MSU1JVCkge1xyXG4gICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRyaWVzKys7XHJcbiAgICAgIHdpbiA9IHdpbmRvdy5wYXJlbnQ7XHJcbiAgfVxyXG4gIHJldHVybiB3aW4uQVBJO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2Nvcm1BUEkoKSB7XHJcbiAgbGV0IHRoZUFQSSA9IGZpbmRBUEkod2luZG93KTtcclxuXHJcbiAgaWYgKCh0aGVBUEkgPT0gbnVsbCkgJiZcclxuICAgICAgKHdpbmRvdy5vcGVuZXIgIT0gbnVsbCkgJiZcclxuICAgICAgKHR5cGVvZiAod2luZG93Lm9wZW5lcikgIT0gXCJ1bmRlZmluZWRcIikpIHtcclxuXHJcbiAgICAgIHRoZUFQSSA9IGZpbmRBUEkod2luZG93Lm9wZW5lcik7XHJcbiAgfVxyXG4gIHJldHVybiB0aGVBUEk7XHJcbn1cclxuXHJcbmNvbnN0IFNDT1JNX1RSVUUgPSBcInRydWVcIjtcclxuY29uc3QgU0NPUk1fRkFMU0UgPSBcImZhbHNlXCI7XHJcbmNvbnN0IFNDT1JNX05PX0VSUk9SID0gXCIwXCI7XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIFNjb3JtV3JhcHBlcntcclxuICBzdGFydFRpbWVTdGFtcCA6IERhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gIGZpbmlzaENhbGxlZCA9IGZhbHNlO1xyXG4gIGluaXRpYWxpemVkID0gZmFsc2U7XHJcbiAgcHJvY2Vzc2VkVW5sb2FkID0gZmFsc2U7XHJcbiAgcmVhY2hlZEVuZCA9IGZhbHNlO1xyXG5cclxuXHJcbmNvbnN0cnVjdG9yKHByaXZhdGUgQVBJIDogYW55KXtcclxuICB0aGlzLlNjb3JtUHJvY2Vzc0luaXRpYWxpemUoKTtcclxuICB0aGlzLnN0YXJ0VGltZVN0YW1wID0gbmV3IERhdGUoKTtcclxufVxyXG5cclxuXHJcbmNvbW1pdCgpIHtcclxuICB0aGlzLkFQSS5MTVNDb21taXQoXCJcIik7XHJcbn1cclxuXHJcblxyXG5cclxuU2Nvcm1Qcm9jZXNzSW5pdGlhbGl6ZSgpe1xyXG4gIGxldCByZXN1bHQ7XHJcbiAgXHJcbiAgcmVzdWx0ID0gdGhpcy5BUEkuTE1TSW5pdGlhbGl6ZShcIlwiKTtcclxuICBcclxuICBpZiAocmVzdWx0ID09IFNDT1JNX0ZBTFNFKXtcclxuICAgICAgdmFyIGVycm9yTnVtYmVyID0gdGhpcy5BUEkuTE1TR2V0TGFzdEVycm9yKCk7XHJcbiAgICAgIHZhciBlcnJvclN0cmluZyA9IHRoaXMuQVBJLkxNU0dldEVycm9yU3RyaW5nKGVycm9yTnVtYmVyKTtcclxuICAgICAgdmFyIGRpYWdub3N0aWMgPSB0aGlzLkFQSS5MTVNHZXREaWFnbm9zdGljKGVycm9yTnVtYmVyKTtcclxuICAgICAgXHJcbiAgICAgIHZhciBlcnJvckRlc2NyaXB0aW9uID0gXCJOdW1iZXI6IFwiICsgZXJyb3JOdW1iZXIgKyBcIlxcbkRlc2NyaXB0aW9uOiBcIiArIGVycm9yU3RyaW5nICsgXCJcXG5EaWFnbm9zdGljOiBcIiArIGRpYWdub3N0aWM7XHJcbiAgICAgIFxyXG4gICAgICBjb25zb2xlLmxvZyhcIkVycm9yIC0gQ291bGQgbm90IGluaXRpYWxpemUgY29tbXVuaWNhdGlvbiB3aXRoIHRoZSBMTVMuXFxuXFxuWW91ciByZXN1bHRzIG1heSBub3QgYmUgcmVjb3JkZWQuXFxuXFxuXCIgKyBlcnJvckRlc2NyaXB0aW9uKTtcclxuICAgICAgdGhpcy5pbml0aWFsaXplZCA9IGZhbHNlO1xyXG4gIH1cclxuICBcclxuICB0aGlzLmluaXRpYWxpemVkICA9IHRydWU7XHJcbn1cclxuXHJcblNjb3JtUHJvY2Vzc0ZpbmlzaCgpe1xyXG4gIFxyXG4gIHZhciByZXN1bHQ7XHJcbiAgXHJcbiAgLy9Eb24ndCB0ZXJtaW5hdGUgaWYgd2UgaGF2ZW4ndCBpbml0aWFsaXplZCBvciBpZiB3ZSd2ZSBhbHJlYWR5IHRlcm1pbmF0ZWRcclxuICBpZiAodGhpcy5pbml0aWFsaXplZCA9PSBmYWxzZSB8fCB0aGlzLmZpbmlzaENhbGxlZCA9PSB0cnVlKXtyZXR1cm47fVxyXG4gIFxyXG4gIHJlc3VsdCA9IHRoaXMuQVBJLkxNU0ZpbmlzaChcIlwiKTtcclxuICBcclxuICB0aGlzLmZpbmlzaENhbGxlZCA9IHRydWU7XHJcbiAgXHJcbiAgaWYgKHJlc3VsdCA9PSBTQ09STV9GQUxTRSl7XHJcbiAgICAgIHZhciBlcnJvck51bWJlciA9IHRoaXMuQVBJLkxNU0dldExhc3RFcnJvcigpO1xyXG4gICAgICB2YXIgZXJyb3JTdHJpbmcgPSB0aGlzLkFQSS5MTVNHZXRFcnJvclN0cmluZyhlcnJvck51bWJlcik7XHJcbiAgICAgIHZhciBkaWFnbm9zdGljID0gdGhpcy5BUEkuTE1TR2V0RGlhZ25vc3RpYyhlcnJvck51bWJlcik7XHJcbiAgICAgIFxyXG4gICAgICB2YXIgZXJyb3JEZXNjcmlwdGlvbiA9IFwiTnVtYmVyOiBcIiArIGVycm9yTnVtYmVyICsgXCJcXG5EZXNjcmlwdGlvbjogXCIgKyBlcnJvclN0cmluZyArIFwiXFxuRGlhZ25vc3RpYzogXCIgKyBkaWFnbm9zdGljO1xyXG4gICAgICBcclxuICAgICAgY29uc29sZS5sb2coXCJFcnJvciAtIENvdWxkIG5vdCB0ZXJtaW5hdGUgY29tbXVuaWNhdGlvbiB3aXRoIHRoZSBMTVMuXFxuXFxuWW91ciByZXN1bHRzIG1heSBub3QgYmUgcmVjb3JkZWQuXFxuXFxuXCIgKyBlcnJvckRlc2NyaXB0aW9uKTtcclxuICAgICAgcmV0dXJuO1xyXG4gIH1cclxufVxyXG5cclxuXHJcblNjb3JtUHJvY2Vzc0dldFZhbHVlKGVsZW1lbnQgOiBzdHJpbmcpe1xyXG4gIFxyXG4gIHZhciByZXN1bHQ7XHJcbiAgXHJcbiAgaWYgKHRoaXMuaW5pdGlhbGl6ZWQgPT0gZmFsc2UgfHwgdGhpcy5maW5pc2hDYWxsZWQgPT0gdHJ1ZSl7cmV0dXJuO31cclxuICBcclxuICByZXN1bHQgPSB0aGlzLkFQSS5MTVNHZXRWYWx1ZShlbGVtZW50KTtcclxuICBcclxuICBpZiAocmVzdWx0ID09IFwiXCIpe1xyXG4gIFxyXG4gICAgICB2YXIgZXJyb3JOdW1iZXIgPSB0aGlzLkFQSS5MTVNHZXRMYXN0RXJyb3IoKTtcclxuICAgICAgXHJcbiAgICAgIGlmIChlcnJvck51bWJlciAhPSBTQ09STV9OT19FUlJPUil7XHJcbiAgICAgICAgICB2YXIgZXJyb3JTdHJpbmcgPSB0aGlzLkFQSS5MTVNHZXRFcnJvclN0cmluZyhlcnJvck51bWJlcik7XHJcbiAgICAgICAgICB2YXIgZGlhZ25vc3RpYyA9IHRoaXMuQVBJLkxNU0dldERpYWdub3N0aWMoZXJyb3JOdW1iZXIpO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICB2YXIgZXJyb3JEZXNjcmlwdGlvbiA9IFwiTnVtYmVyOiBcIiArIGVycm9yTnVtYmVyICsgXCJcXG5EZXNjcmlwdGlvbjogXCIgKyBlcnJvclN0cmluZyArIFwiXFxuRGlhZ25vc3RpYzogXCIgKyBkaWFnbm9zdGljO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIkVycm9yIC0gQ291bGQgbm90IHJldHJpZXZlIGEgdmFsdWUgZnJvbSB0aGUgTE1TLlxcblxcblwiICsgZXJyb3JEZXNjcmlwdGlvbik7XHJcbiAgICAgICAgICByZXR1cm4gXCJcIjtcclxuICAgICAgfVxyXG4gIH1cclxuICBcclxuICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG5TY29ybVByb2Nlc3NTZXRWYWx1ZShlbGVtZW50IDogc3RyaW5nLCB2YWx1ZSA6IHN0cmluZyl7XHJcbiBcclxuICB2YXIgcmVzdWx0O1xyXG4gIFxyXG4gIGlmICh0aGlzLmluaXRpYWxpemVkID09IGZhbHNlIHx8IHRoaXMuZmluaXNoQ2FsbGVkID09IHRydWUpe3JldHVybjt9XHJcbiAgXHJcbiAgcmVzdWx0ID0gdGhpcy5BUEkuTE1TU2V0VmFsdWUoZWxlbWVudCwgdmFsdWUpO1xyXG4gIFxyXG4gIGlmIChyZXN1bHQgPT0gU0NPUk1fRkFMU0Upe1xyXG4gICAgICB2YXIgZXJyb3JOdW1iZXIgPSB0aGlzLkFQSS5MTVNHZXRMYXN0RXJyb3IoKTtcclxuICAgICAgdmFyIGVycm9yU3RyaW5nID0gdGhpcy5BUEkuTE1TR2V0RXJyb3JTdHJpbmcoZXJyb3JOdW1iZXIpO1xyXG4gICAgICB2YXIgZGlhZ25vc3RpYyA9IHRoaXMuQVBJLkxNU0dldERpYWdub3N0aWMoZXJyb3JOdW1iZXIpO1xyXG4gICAgICBcclxuICAgICAgdmFyIGVycm9yRGVzY3JpcHRpb24gPSBcIk51bWJlcjogXCIgKyBlcnJvck51bWJlciArIFwiXFxuRGVzY3JpcHRpb246IFwiICsgZXJyb3JTdHJpbmcgKyBcIlxcbkRpYWdub3N0aWM6IFwiICsgZGlhZ25vc3RpYztcclxuICAgICAgXHJcbiAgICAgIGNvbnNvbGUubG9nKFwiRXJyb3IgLSBDb3VsZCBub3Qgc3RvcmUgYSB2YWx1ZSBpbiB0aGUgTE1TLlxcblxcbllvdXIgcmVzdWx0cyBtYXkgbm90IGJlIHJlY29yZGVkLlxcblxcblwiICsgZXJyb3JEZXNjcmlwdGlvbik7XHJcbiAgfVxyXG4gIFxyXG59XHJcblxyXG5maW5pc2hTaW5nbGVBY3Rpdml0eUNvdXJzZSgpe1xyXG4gIHRoaXMucmVhY2hlZEVuZCA9IHRydWU7XHJcbiAgY29uc3Qgc3RhdHVzID0gdGhpcy5TY29ybVByb2Nlc3NHZXRWYWx1ZSgnY21pLm9iamVjdGl2ZXMuMC5zdGF0dXMnKVxyXG4gIGNvbnN0IG1heFNjb3JlID0gdGhpcy5TY29ybVByb2Nlc3NHZXRWYWx1ZSgnY21pLm9iamVjdGl2ZXMuMC5zY29yZS5tYXgnKVxyXG4gIGNvbnN0IG1pblNjb3JlID0gdGhpcy5TY29ybVByb2Nlc3NHZXRWYWx1ZSgnY21pLm9iamVjdGl2ZXMuMC5zY29yZS5taW4nKVxyXG4gIGNvbnN0IHJhd1Njb3JlID0gdGhpcy5TY29ybVByb2Nlc3NHZXRWYWx1ZSgnY21pLm9iamVjdGl2ZXMuMC5zY29yZS5yYXcnKVxyXG4gIHRoaXMuU2Nvcm1Qcm9jZXNzU2V0VmFsdWUoXCJjbWkuY29yZS5zY29yZS5tYXhcIiwgbWF4U2NvcmUpO1xyXG4gIHRoaXMuU2Nvcm1Qcm9jZXNzU2V0VmFsdWUoXCJjbWkuY29yZS5zY29yZS5taW5cIiwgbWluU2NvcmUpO1xyXG4gIHRoaXMuU2Nvcm1Qcm9jZXNzU2V0VmFsdWUoXCJjbWkuY29yZS5zY29yZS5yYXdcIiwgcmF3U2NvcmUpO1xyXG4gIHRoaXMuU2Nvcm1Qcm9jZXNzU2V0VmFsdWUoXCJjbWkuY29yZS5sZXNzb25fc3RhdHVzXCIsIHN0YXR1cyk7XHJcbn1cclxuXHJcbnNldEZpbmlzaENvdXJzZSgpIHtcclxuICB0aGlzLnJlYWNoZWRFbmQgPSB0cnVlO1xyXG4gIHRoaXMuU2Nvcm1Qcm9jZXNzU2V0VmFsdWUoXCJjbWkuY29yZS5zY29yZS5tYXhcIiwgXCIxMDBcIik7XHJcbiAgdGhpcy5TY29ybVByb2Nlc3NTZXRWYWx1ZShcImNtaS5jb3JlLnNjb3JlLm1pblwiLCBcIjBcIik7XHJcbiAgdGhpcy5TY29ybVByb2Nlc3NTZXRWYWx1ZShcImNtaS5jb3JlLnNjb3JlLnJhd1wiLCBcIjEwMFwiKTtcclxuICB0aGlzLlNjb3JtUHJvY2Vzc1NldFZhbHVlKFwiY21pLmNvcmUubGVzc29uX3N0YXR1c1wiLCBcImNvbXBsZXRlZFwiKTtcclxufVxyXG5cclxuXHJcbnVwZGF0ZUNvdXJzZVByb2dyZXNzKHBlcmNlbnQgOiBudW1iZXIpIHtcclxuICB0aGlzLlNjb3JtUHJvY2Vzc1NldFZhbHVlKFwiY21pLmNvcmUuc2NvcmUubWF4XCIsIFwiMTAwXCIpO1xyXG4gIHRoaXMuU2Nvcm1Qcm9jZXNzU2V0VmFsdWUoXCJjbWkuY29yZS5zY29yZS5taW5cIiwgXCIwXCIpO1xyXG4gIHRoaXMuU2Nvcm1Qcm9jZXNzU2V0VmFsdWUoXCJjbWkuY29yZS5zY29yZS5yYXdcIiwgcGVyY2VudC50b0ZpeGVkKDIpKTtcclxuICB0aGlzLlNjb3JtUHJvY2Vzc1NldFZhbHVlKFwiY21pLmNvcmUubGVzc29uX3N0YXR1c1wiLCBcImNvbXBsZXRlZFwiKTtcclxufVxyXG5kb1VubG9hZChwcmVzc2VkRXhpdCA6IGJvb2xlYW4gPSB0cnVlKXtcclxuICBcclxuICAvL2Rvbid0IGNhbGwgdGhpcyBmdW5jdGlvbiB0d2ljZVxyXG4gIGlmICh0aGlzLnByb2Nlc3NlZFVubG9hZCA9PSB0cnVlKXtyZXR1cm47fVxyXG4gIFxyXG4gIHRoaXMucHJvY2Vzc2VkVW5sb2FkID0gdHJ1ZTtcclxuICBcclxuICAvL3JlY29yZCB0aGUgc2Vzc2lvbiB0aW1lXHJcbiAgdmFyIGVuZFRpbWVTdGFtcCA9IG5ldyBEYXRlKCk7XHJcbiAgdmFyIHRvdGFsTWlsbGlzZWNvbmRzID0gKGVuZFRpbWVTdGFtcC5nZXRUaW1lKCkgLSB0aGlzLnN0YXJ0VGltZVN0YW1wLmdldFRpbWUoKSk7XHJcbiAgdmFyIHNjb3JtVGltZSA9IENvbnZlcnRNaWxsaVNlY29uZHNUb1NDT1JNVGltZSh0b3RhbE1pbGxpc2Vjb25kcywgZmFsc2UpO1xyXG4gIFxyXG4gIHRoaXMuU2Nvcm1Qcm9jZXNzU2V0VmFsdWUoXCJjbWkuY29yZS5zZXNzaW9uX3RpbWVcIiwgc2Nvcm1UaW1lKTtcclxuICBcclxuICAvL2lmIHRoZSB1c2VyIGp1c3QgY2xvc2VzIHRoZSBicm93c2VyLCB3ZSB3aWxsIGRlZmF1bHQgdG8gc2F2aW5nIFxyXG4gIC8vdGhlaXIgcHJvZ3Jlc3MgZGF0YS4gSWYgdGhlIHVzZXIgcHJlc3NlcyBleGl0LCBoZSBpcyBwcm9tcHRlZC5cclxuICAvL0lmIHRoZSB1c2VyIHJlYWNoZWQgdGhlIGVuZCwgdGhlIGV4aXQgbm9ybWFsbCB0byBzdWJtaXQgcmVzdWx0cy5cclxuICBpZiAocHJlc3NlZEV4aXQgPT0gZmFsc2UgJiYgdGhpcy5yZWFjaGVkRW5kID09IGZhbHNlKXtcclxuICAgICAgdGhpcy5TY29ybVByb2Nlc3NTZXRWYWx1ZShcImNtaS5jb3JlLmV4aXRcIiwgXCJzdXNwZW5kXCIpO1xyXG4gIH1cclxuICB0aGlzLmNvbW1pdCgpO1xyXG4gIHRoaXMuU2Nvcm1Qcm9jZXNzRmluaXNoKCk7XHJcbn1cclxufVxyXG5cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0xvY2FsU3RvcmFnZUlzQXZhaWxhYmxlKCkgOiBib29sZWFue1xyXG4gIHRyeSB7XHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnJywgJycpO1xyXG4gICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCcnKSA9PT0gJycpIHtcclxuICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJycpO1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICByZXR1cm4gIGZhbHNlO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNvbmNhdExlY3R1cmVBY3Rpdml0eShsZWN0dXJlOiBudW1iZXIsIGFjdGl2aXR5OiBudW1iZXIpIDogc3RyaW5ne1xyXG4gIHJldHVybiBsZWN0dXJlLnRvU3RyaW5nKCkgKyAnLScgKyBhY3Rpdml0eS50b1N0cmluZygpXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVUcmVlRnJvbUpzb24oanNvbk9iajogYW55KTogVG9jVHJlZU5vZGUge1xyXG4gIGNvbnN0IGRvY1BhdGggPSBqc29uT2JqLmRvY19wYXRoO1xyXG4gIGNvbnN0IGRvY25hbWUgPSBqc29uT2JqLmRvY25hbWU7XHJcbiAgY29uc3QgbWV0YURhdGEgPSBqc29uT2JqLm1ldGFfZGF0YVxyXG4gIGNvbnN0IHRpdGxlID0ganNvbk9iai50aXRsZVxyXG4gIGNvbnN0IHN1Yk5vZGVzID0ganNvbk9iai5jaGlsZHJlbjtcclxuXHJcbiAgY29uc3QgY2hpbGRyZW46IFRvY1RyZWVOb2RlW10gPSBzdWJOb2Rlcy5tYXAoKGNoaWxkSnNvbjogYW55KSA9PiB7XHJcbiAgICByZXR1cm4gY3JlYXRlVHJlZUZyb21Kc29uKGNoaWxkSnNvbik7XHJcbiAgfSk7XHJcblxyXG4gIHJldHVybiBuZXcgVG9jVHJlZU5vZGUoZG9jUGF0aCwgZG9jbmFtZSwgbWV0YURhdGEsIHRpdGxlLCBjaGlsZHJlbik7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGZsYXR0ZW5UcmVlKHJvb3Q6IFRvY1RyZWVOb2RlKTogVG9jVHJlZU5vZGVbXSB7XHJcbiAgY29uc3QgZmxhdHRlbmVkOiBUb2NUcmVlTm9kZVtdID0gW107XHJcblxyXG4gIGZ1bmN0aW9uIGZsYXR0ZW4obm9kZTogVG9jVHJlZU5vZGUpIHtcclxuICAgIGlmKG5vZGUuc2hvdWxkSW5jbHVkZU5vZGUoKSlcclxuICAgICAgZmxhdHRlbmVkLnB1c2gobm9kZSk7XHJcbiAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIG5vZGUuc3ViTm9kZXMpIHtcclxuICAgICAgZmxhdHRlbihjaGlsZCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmbGF0dGVuKHJvb3QpO1xyXG4gIHJldHVybiBmbGF0dGVuZWQ7XHJcbn0iLCJcclxuaW1wb3J0IHtBY3Rpdml0eVByb2dyZXNzfSBmcm9tICcuL1R5cGVzJ1xyXG5pbXBvcnQge2NvbmNhdExlY3R1cmVBY3Rpdml0eSwgU2Nvcm1XcmFwcGVyfSBmcm9tICcuL1V0aWxzJ1xyXG5pbXBvcnQge0NvdXJzZUNvbmZpZywgQ291cnNlSlNPTiwgVG9jVHJlZU5vZGV9IGZyb20gJy4vQ291cnNlQ29uZmlnJ1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBDb3Vyc2VTdG9yYWdle1xyXG4gICAgcmVjb3JkUHJvZ3Jlc3MoZG9jbmFtZSA6IHN0cmluZywgcHJvZ3Jlc3MgOiBBY3Rpdml0eVByb2dyZXNzKSA6IHZvaWQ7XHJcbiAgICBjaGVja1Byb2dyZXNzKGRvY25hbWUgOiBzdHJpbmcpIDogYm9vbGVhbjtcclxuICB9XHJcblxyXG5leHBvcnQgY2xhc3MgTG9jYWxTdG9yYWdlTWFuYWdlciBpbXBsZW1lbnRzIENvdXJzZVN0b3JhZ2V7XHJcbiAgY29uc3RydWN0b3IocHJpdmF0ZSB0aXRsZTogc3RyaW5nKSB7XHJcbiAgICBpZiAoIWxvY2FsU3RvcmFnZS5nZXRJdGVtKHRpdGxlKSlcclxuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0odGl0bGUsIEpTT04uc3RyaW5naWZ5KG5ldyBBcnJheTxzdHJpbmc+KCkpKTtcclxuICB9XHJcblxyXG4gIGNoZWNrUHJvZ3Jlc3MoZG9jbmFtZSA6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgbGV0IHByb2dyZXNzU3RyaW5nOiBzdHJpbmdcclxuICAgIHRyeSB7XHJcbiAgICAgIHByb2dyZXNzU3RyaW5nID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0odGhpcy50aXRsZSkhO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGUpIHtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgaWYgKHByb2dyZXNzU3RyaW5nKSB7XHJcbiAgICAgIGxldCBwcm9ncmVzczogQXJyYXk8c3RyaW5nPiA9IEpTT04ucGFyc2UocHJvZ3Jlc3NTdHJpbmcpO1xyXG4gICAgICByZXR1cm4gcHJvZ3Jlc3MuaW5kZXhPZihkb2NuYW1lKSAhPSAtMTtcclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIHJlY29yZFByb2dyZXNzKGRvY25hbWUgOiBzdHJpbmcsIHByb2dyZXNzIDogQWN0aXZpdHlQcm9ncmVzcyk6IHZvaWQge1xyXG4gICAgbGV0IHByb2dyZXNzU3RyaW5nOiBzdHJpbmdcclxuICAgIHRyeSB7XHJcbiAgICAgIHByb2dyZXNzU3RyaW5nID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0odGhpcy50aXRsZSkhO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGUpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYgKHByb2dyZXNzU3RyaW5nKSB7XHJcbiAgICAgIGxldCBwcm9ncmVzczogQXJyYXk8c3RyaW5nPiA9IEpTT04ucGFyc2UocHJvZ3Jlc3NTdHJpbmcpO1xyXG4gICAgICBpZiAocHJvZ3Jlc3MuaW5kZXhPZihkb2NuYW1lKSA9PSAtMSkge1xyXG4gICAgICAgIHByb2dyZXNzLnB1c2goZG9jbmFtZSk7XHJcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0odGhpcy50aXRsZSwgSlNPTi5zdHJpbmdpZnkocHJvZ3Jlc3MpKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuY29uc3QgIFNDT1JNX0NPTVBMRVRFRCA9IFwiY29tcGxldGVkXCJcclxuY29uc3QgU0NST01fUEFTU0VEID0gXCJwYXNzZWRcIlxyXG5cclxuZXhwb3J0IGNsYXNzIFNjb3JtU3RvcmFnZSBpbXBsZW1lbnRzIENvdXJzZVN0b3JhZ2V7XHJcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBzdyA6IFNjb3JtV3JhcHBlciwgcHJpdmF0ZSBjb3Vyc2UgOiBDb3Vyc2VDb25maWcpe1xyXG4gICAgZm9yIChsZXQgaT0wO2k8PXRoaXMuY291cnNlLnRvY0xpc3RPcmRlci5sZW5ndGg7aSsrKSB7XHJcbiAgICAgIGxldCBjb21wbGV0aW9uU3RhdHVzQWN0aXZpdHkgPSBzdy5TY29ybVByb2Nlc3NHZXRWYWx1ZSgnY21pLm9iamVjdGl2ZXMuJytpKycuc3RhdHVzJyk7XHJcbiAgICAgIGlmIChjb21wbGV0aW9uU3RhdHVzQWN0aXZpdHkgID09PSB1bmRlZmluZWQgfHwgY29tcGxldGlvblN0YXR1c0FjdGl2aXR5ID09ICcnIHx8IGNvbXBsZXRpb25TdGF0dXNBY3Rpdml0eSA9PSBcIm5vdCBhdHRlbXB0ZWRcIil7XHJcbiAgICAgICAgdGhpcy5zdy5TY29ybVByb2Nlc3NTZXRWYWx1ZSgnY21pLm9iamVjdGl2ZXMuJytpKycuc3RhdHVzJywgXCJpbmNvbXBsZXRlXCIpXHJcbiAgICAgICAgdGhpcy5zdy5jb21taXQoKTtcclxuICAgICAgfSAgXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNoZWNrSWZDb21wbGV0ZSgpe1xyXG4gICAgbGV0IHBhc3NlZCA9IHRydWU7XHJcbiAgICBsZXQgbnVtYmVyT2ZQYXNzZWRBY3Rpdml0aWVzID0gMDtcclxuICAgIGZvciAobGV0IGk9MDtpPD10aGlzLmNvdXJzZS50b2NMaXN0T3JkZXIubGVuZ3RoO2krKyl7XHJcbiAgICAgIGxldCBjb21wbGV0aW9uU3RhdHVzQWN0aXZpdHkgPSB0aGlzLnN3LlNjb3JtUHJvY2Vzc0dldFZhbHVlKCdjbWkub2JqZWN0aXZlcy4nK2krJy5zdGF0dXMnKTtcclxuICAgICAgaWYgKGNvbXBsZXRpb25TdGF0dXNBY3Rpdml0eSAgIT09IFNDT1JNX0NPTVBMRVRFRCAmJiBjb21wbGV0aW9uU3RhdHVzQWN0aXZpdHkgICE9PSBTQ1JPTV9QQVNTRUQpe1xyXG4gICAgICAgIHBhc3NlZCA9IGZhbHNlO1xyXG4gICAgICB9ICBcclxuICAgICAgZWxzZXtcclxuICAgICAgICBudW1iZXJPZlBhc3NlZEFjdGl2aXRpZXMgKz0gMTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYocGFzc2VkKVxyXG4gICAgICBpZih0aGlzLmNvdXJzZS50b2NMaXN0T3JkZXIubGVuZ3RoID4gMSlcclxuICAgICAgICB0aGlzLnN3LnNldEZpbmlzaENvdXJzZSgpO1xyXG4gICAgICBlbHNlXHJcbiAgICAgICAgdGhpcy5zdy5maW5pc2hTaW5nbGVBY3Rpdml0eUNvdXJzZSgpO1xyXG4gICAgICBcclxuICAgIGVsc2V7XHJcbiAgICAgIHRoaXMuc3cudXBkYXRlQ291cnNlUHJvZ3Jlc3MoKG51bWJlck9mUGFzc2VkQWN0aXZpdGllcy90aGlzLmNvdXJzZS50b2NMaXN0T3JkZXIubGVuZ3RoKjEwMCkpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5zdy5jb21taXQoKTtcclxuICB9XHJcblxyXG4gIGNoZWNrUHJvZ3Jlc3MoZG9jbmFtZSA6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgbGV0IGxlY3R1cmVJbmRleCA9IHRoaXMuY291cnNlLnRvY0xpc3RPcmRlci5maW5kSW5kZXgoKG5vZGUpPT57cmV0dXJuIG5vZGUuZG9jbmFtZSA9PSBkb2NuYW1lfSlcclxuICAgIGxldCBwcm9ncmVzcyA9IHRoaXMuc3cuU2Nvcm1Qcm9jZXNzR2V0VmFsdWUoJ2NtaS5vYmplY3RpdmVzLicrIGxlY3R1cmVJbmRleCArJy5zdGF0dXMnKTtcclxuICAgIGlmIChwcm9ncmVzcyAgPT09IFNDT1JNX0NPTVBMRVRFRCB8fCBwcm9ncmVzcyA9PT1TQ1JPTV9QQVNTRUQgKVxyXG4gICAgICByZXR1cm4gdHJ1ZVxyXG4gICAgcmV0dXJuIGZhbHNlXHJcbiAgfVxyXG5cclxuICByZWNvcmRQcm9ncmVzcyhkb2NuYW1lIDogc3RyaW5nLCBwcm9ncmVzcyA6IEFjdGl2aXR5UHJvZ3Jlc3MpOiB2b2lkIHtcclxuICAgIGxldCBwYWdlQ291bnQgPSB0aGlzLmNvdXJzZS50b2NMaXN0T3JkZXIuZmluZEluZGV4KChub2RlKT0+e3JldHVybiBub2RlLmRvY25hbWUgPT0gZG9jbmFtZX0pXHJcbiAgICBpZiAocHJvZ3Jlc3MubGVjdHVyZVR5cGUgPT0gJ3F1aXonKXtcclxuICAgICAgbGV0IHByb2dyZXNzUGVyY2VudCA9IChwcm9ncmVzcy5zY29yZS9wcm9ncmVzcy5tYXhTY29yZSAqIDEwMCkudG9GaXhlZCgyKVxyXG4gICAgICB0aGlzLnN3LlNjb3JtUHJvY2Vzc1NldFZhbHVlKCdjbWkub2JqZWN0aXZlcy4nK3BhZ2VDb3VudCsnLnN0YXR1cycsIFNDUk9NX1BBU1NFRClcclxuICAgICAgdGhpcy5zdy5TY29ybVByb2Nlc3NTZXRWYWx1ZSgnY21pLm9iamVjdGl2ZXMuJytwYWdlQ291bnQrJy5zY29yZS5tYXgnLFwiMTAwXCIpXHJcbiAgICAgIHRoaXMuc3cuU2Nvcm1Qcm9jZXNzU2V0VmFsdWUoJ2NtaS5vYmplY3RpdmVzLicrcGFnZUNvdW50Kycuc2NvcmUubWluJywgXCIwXCIpXHJcbiAgICAgIHRoaXMuc3cuU2Nvcm1Qcm9jZXNzU2V0VmFsdWUoJ2NtaS5vYmplY3RpdmVzLicrcGFnZUNvdW50Kycuc2NvcmUucmF3JywgcHJvZ3Jlc3NQZXJjZW50KVxyXG4gICAgfVxyXG4gICAgZWxzZXtcclxuICAgICAgdGhpcy5zdy5TY29ybVByb2Nlc3NTZXRWYWx1ZSgnY21pLm9iamVjdGl2ZXMuJytwYWdlQ291bnQrJy5zdGF0dXMnLCBTQ09STV9DT01QTEVURUQpXHJcbiAgICAgIHRoaXMuc3cuU2Nvcm1Qcm9jZXNzU2V0VmFsdWUoJ2NtaS5vYmplY3RpdmVzLicrcGFnZUNvdW50Kycuc2NvcmUubWF4JyxcIjEwMFwiKVxyXG4gICAgICB0aGlzLnN3LlNjb3JtUHJvY2Vzc1NldFZhbHVlKCdjbWkub2JqZWN0aXZlcy4nK3BhZ2VDb3VudCsnLnNjb3JlLm1pbicsIFwiMFwiKVxyXG4gICAgICB0aGlzLnN3LlNjb3JtUHJvY2Vzc1NldFZhbHVlKCdjbWkub2JqZWN0aXZlcy4nK3BhZ2VDb3VudCsnLnNjb3JlLnJhdycsIFwiMTAwXCIpXHJcbiAgICB9XHJcbiAgICB0aGlzLnN3LmNvbW1pdCgpO1xyXG4gICAgdGhpcy5jaGVja0lmQ29tcGxldGUoKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBNb2NTdG9yYWdlIGltcGxlbWVudHMgQ291cnNlU3RvcmFnZXtcclxuICBwcm9ncmVzc1JlY29yZCA6IFJlY29yZDxzdHJpbmcsIGJvb2xlYW4+O1xyXG4gIGNoZWNrUHJvZ3Jlc3MoZG9jbmFtZSA6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMucHJvZ3Jlc3NSZWNvcmRbZG9jbmFtZV07XHJcbiAgfVxyXG5cclxuICByZWNvcmRQcm9ncmVzcyhkb2NuYW1lIDogc3RyaW5nLCBwcm9ncmVzcyA6IEFjdGl2aXR5UHJvZ3Jlc3MpOiB2b2lkIHtcclxuICAgIHRoaXMucHJvZ3Jlc3NSZWNvcmRbZG9jbmFtZV0gPSB0cnVlO1xyXG4gIH1cclxufSIsImltcG9ydCB7IENvdXJzZVN0b3JhZ2UgfSBmcm9tIFwiLi4vdXRpbC9Db3Vyc2VTdG9yYWdlXCJcclxuaW1wb3J0IHsgQ291cnNlQ29uZmlnLCBUb2NUcmVlTm9kZSB9IGZyb20gJy4uL3V0aWwvQ291cnNlQ29uZmlnJ1xyXG5pbXBvcnQgeyBDb250ZW50UGxheWVyTWVzc2FnZSwgUGxheWVyQ29udGVudE1lc3NhZ2UsIEFjdGl2aXR5UHJvZ3Jlc3MgfSBmcm9tIFwiLi4vdXRpbC9UeXBlc1wiXHJcblxyXG5leHBvcnQgY2xhc3MgUGV0bGphUGxheWVyIHtcclxuICAgIHN0YXRpYyBNRURJQV9RVUVSWV9XSURUSCA9IDExNTA7XHJcbiAgICBzdGF0aWMgem9vbUZhY3RvciA9IDE7XHJcblxyXG4gICAgcHJpdmF0ZSBpRnJhbWU6IEhUTUxJRnJhbWVFbGVtZW50O1xyXG4gICAgcHJpdmF0ZSBtYWluOiBIVE1MRWxlbWVudDtcclxuICAgIHByaXZhdGUgY291cnNlQ29udGVudDogSFRNTEVsZW1lbnQ7XHJcbiAgICBwcml2YXRlIHRvYzogSFRNTEVsZW1lbnQ7XHJcbiAgICBwcml2YXRlIGxlY3R1cmVUaXRsZUhlYWRlcjogSFRNTEVsZW1lbnQ7XHJcbiAgICBwcml2YXRlIHRvY1RvZ2dsZTogSFRNTEVsZW1lbnQ7XHJcbiAgICBwcml2YXRlIGZvbnRPcHRpb246IEhUTUxFbGVtZW50O1xyXG4gICAgcHJpdmF0ZSBmb250T3B0aW9uTW9kYWw6IEhUTUxFbGVtZW50O1xyXG4gICAgcHJpdmF0ZSBjb3Vyc2VUaXRsZTogSFRNTEVsZW1lbnRcclxuICAgIHByaXZhdGUgcGxheWVySGVhZGVyOiBIVE1MRWxlbWVudDtcclxuICAgIHByaXZhdGUgY29udGVudE5hdjogSFRNTEVsZW1lbnQ7XHJcbiAgICBwcml2YXRlIGVubGFyZ2VGb250OiBIVE1MQnV0dG9uRWxlbWVudDtcclxuICAgIHByaXZhdGUgcmVkdWNlRm9udDogSFRNTEJ1dHRvbkVsZW1lbnQ7XHJcbiAgICBwcml2YXRlIG5leHRBY3Rpdml0eUJ1dHRvbjogSFRNTEJ1dHRvbkVsZW1lbnQ7XHJcbiAgICBwcml2YXRlIHByZXZpb3VzQWN0aXZpdHlCdXR0b246IEhUTUxCdXR0b25FbGVtZW50O1xyXG4gICAgcHJpdmF0ZSBwcmV2aW91c1NjcmVlblNpemU6IFwic21hbGxcIiB8IFwibGFyZ2VcIjtcclxuICAgIHByaXZhdGUgbmF2U3RhdHVzOiBib29sZWFuO1xyXG4gICAgcHJpdmF0ZSBjb250ZW50U2V0dGluZ3M6IHsgY29udGVudFRoZW1lOiBcImxpZ2h0XCIgfCBcImRhcmtcIiwgY29udGVudFpvb21GYWN0b3I6IG51bWJlciB9ID0geyBjb250ZW50VGhlbWU6IFwibGlnaHRcIiwgY29udGVudFpvb21GYWN0b3I6IDAgfTtcclxuICAgIHByaXZhdGUgY3VycmVudEFjdGl2aXR5OiBudW1iZXIgPSAwO1xyXG4gICAgcHJpdmF0ZSBzY3JvbGxQb3NpdGlvbkJlZm9yZU1vZGFsOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIHNob3dpbmdNb2RhbDogYm9vbGVhbjtcclxuICAgIHByaXZhdGUgbGVjdHVyZUhUTUxFbGVtZW50czogSFRNTEVsZW1lbnRbXSA9IFtdO1xyXG4gICAgcHJpdmF0ZSBjb3Vyc2VDb250ZW50UGFnZSA6IGJvb2xlYW47XHJcbiAgICBwcml2YXRlIG9uQ291cnNlTGVjdHVyZSA6IGJvb2xlYW47XHJcbiAgICBwcml2YXRlIHJlbG9hZFNjcm9sbFBvc2l0aW9uOiBudW1iZXI7XHJcblxyXG5cclxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgY291cnNlOiBDb3Vyc2VDb25maWcsIHByaXZhdGUgcHJvZ3Jlc3NNYW5hZ2VyOiBDb3Vyc2VTdG9yYWdlKSB7XHJcbiAgICAgICAgdGhpcy5pRnJhbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1haW4taWZyYW1lXCIpIGFzIEhUTUxJRnJhbWVFbGVtZW50O1xyXG4gICAgICAgIHRoaXMubWFpbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWFpblwiKSBhcyBIVE1MRWxlbWVudDtcclxuICAgICAgICB0aGlzLmNvdXJzZUNvbnRlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvdXJzZS1jb250ZW50XCIpIGFzIEhUTUxFbGVtZW50O1xyXG4gICAgICAgIHRoaXMudG9jID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0b2NcIikgYXMgSFRNTEVsZW1lbnQ7XHJcbiAgICAgICAgdGhpcy50b2NUb2dnbGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRvYy10b2dnbGVcIikgYXMgSFRNTEVsZW1lbnQ7XHJcbiAgICAgICAgdGhpcy5mb250T3B0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmb250LXNpemVcIikgYXMgSFRNTEVsZW1lbnQ7XHJcbiAgICAgICAgdGhpcy5mb250T3B0aW9uTW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZvbnQtc2l6ZS1tb2RhbFwiKSBhcyBIVE1MRWxlbWVudDtcclxuICAgICAgICB0aGlzLmxlY3R1cmVUaXRsZUhlYWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibGVjdHVyZS10aXRsZS1oZWFkZXJcIikgYXMgSFRNTEVsZW1lbnQ7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJIZWFkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBsYXllci1oZWFkZXJcIikgYXMgSFRNTEVsZW1lbnQ7XHJcbiAgICAgICAgdGhpcy5jb3Vyc2VUaXRsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY291cnNlLXRpdGxlXCIpIGFzIEhUTUxFbGVtZW50O1xyXG4gICAgICAgIHRoaXMuY29udGVudE5hdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29udGVudC1uYXZcIikgYXMgSFRNTEVsZW1lbnQ7XHJcbiAgICAgICAgdGhpcy5lbmxhcmdlRm9udCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibGFyZ2VyLXRleHRcIikgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XHJcbiAgICAgICAgdGhpcy5yZWR1Y2VGb250ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzbWFsbGVyLXRleHRcIikgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XHJcbiAgICAgICAgdGhpcy5uZXh0QWN0aXZpdHlCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5leHQtYWN0aXZpdHlcIikgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XHJcbiAgICAgICAgdGhpcy5wcmV2aW91c0FjdGl2aXR5QnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcmV2aW91cy1hY3Rpdml0eVwiKSBhcyBIVE1MQnV0dG9uRWxlbWVudDtcclxuICAgICAgICB0aGlzLmNvdXJzZUNvbnRlbnRQYWdlID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHRoaXMuY291cnNlVGl0bGUuaW5uZXJIVE1MID0gY291cnNlLnRpdGxlO1xyXG5cclxuICAgICAgICBpZiAoIXRoaXMuY291cnNlLmluU2luZ2xlTGVjdHVyZU1vZGUoKSkge1xyXG4gICAgICAgICAgICBpZih0aGlzLmNvdXJzZS50b2NUcmVlLnNob3VsZEluY2x1ZGVOb2RlKCkpXHJcbiAgICAgICAgICAgICAgICB0aGlzLnRvYy5hcHBlbmQodGhpcy5jcmVhdGVFbGVtZW50KHRoaXMuY291cnNlLnRvY1RyZWUsIDApKVxyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY291cnNlLnRvY1RyZWUuc3ViTm9kZXMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZVNlY3Rpb25zKHRoaXMuY291cnNlLnRvY1RyZWUuc3ViTm9kZXNbaV0sIHRoaXMudG9jLCAxKVxyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuaXNTbWFsbFNjcmVlbigpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRlbnROYXYuY2xhc3NMaXN0LmFkZChcImNvbnRlbnQtbmF2LW9mZlwiKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY291cnNlQ29udGVudC5jbGFzc0xpc3QuYWRkKFwiY291cnNlLWNvbnRlbnQtZnNcIik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByZXZpb3VzU2NyZWVuU2l6ZSA9IFwic21hbGxcIjtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRlbnROYXYuY2xhc3NMaXN0LmFkZChcImNvbnRlbnQtbmF2LW9uXCIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb3Vyc2VDb250ZW50LmNsYXNzTGlzdC5hZGQoXCJjb3Vyc2UtY29udGVudC10b2NcIik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByZXZpb3VzU2NyZWVuU2l6ZSA9IFwibGFyZ2VcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5jb250ZW50TmF2LmNsYXNzTGlzdC5hZGQoXCJjb250ZW50LW5hdi1vZmZcIik7XHJcbiAgICAgICAgICAgIHRoaXMuY291cnNlQ29udGVudC5jbGFzc0xpc3QuYWRkKFwiY291cnNlLWNvbnRlbnQtZnNcIik7XHJcbiAgICAgICAgICAgIHRoaXMudG9jVG9nZ2xlLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJIZWFkZXIuY2xhc3NMaXN0LmFkZChcInNwYWNlLWFyb3VuZFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jdXJyZW50QWN0aXZpdHkgPSBwYXJzZUludChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFwiYWN0aXZpdHlcIikgfHwgXCIwXCIsIDEwKTtcclxuICAgICAgICB0aGlzLm9wZW5Db250ZW50QWN0aXZpdHkodGhpcy5jdXJyZW50QWN0aXZpdHksIHRydWUpO1xyXG4gICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcigpO1xyXG4gICAgfTtcclxuXHJcbiAgICBwcml2YXRlIGFkZEV2ZW50TGlzdGVuZXIoKSB7XHJcbiAgICAgICAgdGhpcy5lbmxhcmdlRm9udC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnpvb21XaXRoRmFjdG9yKFBldGxqYVBsYXllci56b29tRmFjdG9yKTtcclxuICAgICAgICAgICAgdGhpcy5jb250ZW50U2V0dGluZ3MuY29udGVudFpvb21GYWN0b3IgKz0gUGV0bGphUGxheWVyLnpvb21GYWN0b3JcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnJlZHVjZUZvbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy56b29tV2l0aEZhY3RvcigtUGV0bGphUGxheWVyLnpvb21GYWN0b3IpO1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRlbnRTZXR0aW5ncy5jb250ZW50Wm9vbUZhY3RvciAtPSBQZXRsamFQbGF5ZXIuem9vbUZhY3RvclxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuaUZyYW1lLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsICgpID0+IHtcclxuICAgICAgICAgICAgbGV0IHJlbG9hZFNjcm9sbFBvc2l0aW9uPSBwYXJzZUludChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFwic2Nyb2xsVG9wXCIpIHx8IFwiMFwiLCAxMCk7XHJcbiAgICAgICAgICAgIGlmIChyZWxvYWRTY3JvbGxQb3NpdGlvbiA+IDApe1xyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7d2luZG93LnNjcm9sbFRvKDAsIHJlbG9hZFNjcm9sbFBvc2l0aW9uKTsgc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbShcInNjcm9sbFRvcFwiKX0sIDEwMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5zY3JvbGxUbygwLCAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZighdGhpcy5jb3Vyc2VDb250ZW50UGFnZSl7XHJcbiAgICAgICAgICAgICAgICAvLyBsb2FkZWQgYSBwYWdlIHRoYXQgaXMgbm90IGEgY291cnNlIGNvbnRlbnQgcGFnZVxyXG4gICAgICAgICAgICAgICAgdGhpcy5vbkNvdXJzZUxlY3R1cmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmNvdXJzZUNvbnRlbnRQYWdlID0gZmFsc2VcclxuICAgICAgICB9KVxyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCAoZSkgPT4geyB0aGlzLnJlY2VpdmVNZXNzYWdlKGUpOyB9KTtcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmZvbnRPcHRpb24uY29udGFpbnMoZS50YXJnZXQgYXMgTm9kZSkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZm9udE9wdGlvbk1vZGFsLmNsYXNzTGlzdC50b2dnbGUoXCJoaWRlLWVsZW1lbnRcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoIXRoaXMuZm9udE9wdGlvbk1vZGFsLmNsYXNzTGlzdC5jb250YWlucyhcImhpZGUtZWxlbWVudFwiKSAmJiAhdGhpcy5mb250T3B0aW9uTW9kYWwuY29udGFpbnMoZS50YXJnZXQgYXMgTm9kZSkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZm9udE9wdGlvbk1vZGFsLmNsYXNzTGlzdC5hZGQoXCJoaWRlLWVsZW1lbnRcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImJsdXJcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmZvbnRPcHRpb25Nb2RhbC5jbGFzc0xpc3QuYWRkKFwiaGlkZS1lbGVtZW50XCIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmICghdGhpcy5jb3Vyc2UuaW5TaW5nbGVMZWN0dXJlTW9kZSgpKSB7XHJcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzU21hbGxTY3JlZW4oKSAmJiB0aGlzLnByZXZpb3VzU2NyZWVuU2l6ZSA9PSBcImxhcmdlXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm5hdlN0YXR1cyA9IHRoaXMuaXNOYXZWaXNpYmxlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNOYXZWaXNpYmxlKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250ZW50TmF2LmNsYXNzTGlzdC5yZXBsYWNlKFwiY29udGVudC1uYXYtb25cIiwgXCJjb250ZW50LW5hdi1vZmZcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY291cnNlQ29udGVudC5jbGFzc0xpc3QucmVwbGFjZShcImNvdXJzZS1jb250ZW50LXRvY1wiLCBcImNvdXJzZS1jb250ZW50LWZzXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZXZpb3VzU2NyZWVuU2l6ZSA9IFwic21hbGxcIlxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIXRoaXMuaXNTbWFsbFNjcmVlbigpICYmIHRoaXMucHJldmlvdXNTY3JlZW5TaXplID09IFwic21hbGxcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm5hdlN0YXR1cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvdXJzZUNvbnRlbnQuY2xhc3NMaXN0LnJlcGxhY2UoXCJjb3Vyc2UtY29udGVudC1mc1wiLCBcImNvdXJzZS1jb250ZW50LXRvY1wiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRlbnROYXYuY2xhc3NMaXN0LnJlcGxhY2UoXCJjb250ZW50LW5hdi1vZmZcIiwgXCJjb250ZW50LW5hdi1vblwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGVjdHVyZUhUTUxFbGVtZW50c1t0aGlzLmN1cnJlbnRBY3Rpdml0eV0uc2Nyb2xsSW50b1ZpZXcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgMjAwKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250ZW50TmF2LmNsYXNzTGlzdC5yZXBsYWNlKFwiY29udGVudC1uYXYtb25cIiwgXCJjb250ZW50LW5hdi1vZmZcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY291cnNlQ29udGVudC5jbGFzc0xpc3QucmVwbGFjZShcImNvdXJzZS1jb250ZW50LXRvY1wiLCBcImNvdXJzZS1jb250ZW50LWZzXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZXZpb3VzU2NyZWVuU2l6ZSA9IFwibGFyZ2VcIjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMudG9jVG9nZ2xlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc1NtYWxsU2NyZWVuKCkgJiYgdGhpcy5pc05hdlZpc2libGUoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudG9nZ2xlQ2xhc3Nlc09uRWxlbWVudCh0aGlzLmNvbnRlbnROYXYsIFwiY29udGVudC1uYXYtb25cIiwgXCJjb250ZW50LW5hdi1vZmZcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG9nZ2xlQ2xhc3Nlc09uRWxlbWVudCh0aGlzLmNvdXJzZUNvbnRlbnQsIFwiY291cnNlLWNvbnRlbnQtdG9jXCIsIFwiY291cnNlLWNvbnRlbnQtZnNcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgMTAwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuaXNTbWFsbFNjcmVlbigpICYmICF0aGlzLmlzTmF2VmlzaWJsZSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uYXZTdGF0dXMgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudG9nZ2xlQ2xhc3Nlc09uRWxlbWVudCh0aGlzLmNvdXJzZUNvbnRlbnQsIFwiY291cnNlLWNvbnRlbnQtdG9jXCIsIFwiY291cnNlLWNvbnRlbnQtZnNcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG9nZ2xlQ2xhc3Nlc09uRWxlbWVudCh0aGlzLmNvbnRlbnROYXYsIFwiY29udGVudC1uYXYtb25cIiwgXCJjb250ZW50LW5hdi1vZmZcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGVjdHVyZUhUTUxFbGVtZW50c1t0aGlzLmN1cnJlbnRBY3Rpdml0eV0uc2Nyb2xsSW50b1ZpZXcoKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCAyMDApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIXRoaXMuaXNTbWFsbFNjcmVlbigpICYmIHRoaXMuaXNOYXZWaXNpYmxlKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRvZ2dsZUNsYXNzZXNPbkVsZW1lbnQodGhpcy5jb250ZW50TmF2LCBcImNvbnRlbnQtbmF2LW9uXCIsIFwiY29udGVudC1uYXYtb2ZmXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRvZ2dsZUNsYXNzZXNPbkVsZW1lbnQodGhpcy5jb3Vyc2VDb250ZW50LCBcImNvdXJzZS1jb250ZW50LXRvY1wiLCBcImNvdXJzZS1jb250ZW50LWZzXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIDIwMCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICghdGhpcy5pc1NtYWxsU2NyZWVuKCkgJiYgIXRoaXMuaXNOYXZWaXNpYmxlKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRvZ2dsZUNsYXNzZXNPbkVsZW1lbnQodGhpcy5jb3Vyc2VDb250ZW50LCBcImNvdXJzZS1jb250ZW50LXRvY1wiLCBcImNvdXJzZS1jb250ZW50LWZzXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRvZ2dsZUNsYXNzZXNPbkVsZW1lbnQodGhpcy5jb250ZW50TmF2LCBcImNvbnRlbnQtbmF2LW9uXCIsIFwiY29udGVudC1uYXYtb2ZmXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxlY3R1cmVIVE1MRWxlbWVudHNbdGhpcy5jdXJyZW50QWN0aXZpdHldLnNjcm9sbEludG9WaWV3KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgMjAwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMubmV4dEFjdGl2aXR5QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB0aGlzLm5leHRBY3Rpdml0eSgpKTtcclxuICAgICAgICAgICAgdGhpcy5wcmV2aW91c0FjdGl2aXR5QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB0aGlzLnByZXZpb3VzQWN0aXZpdHkoKSk7XHJcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oXCJzY3JvbGxUb3BcIiwgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBwcml2YXRlIHByZXZpb3VzQWN0aXZpdHkoKSB7XHJcbiAgICAgICAgdGhpcy5sZWN0dXJlSFRNTEVsZW1lbnRzW3RoaXMuY3VycmVudEFjdGl2aXR5XS5jbGFzc0xpc3QucmVtb3ZlKFwiY3VycmVudFwiKTtcclxuICAgICAgICB0aGlzLmN1cnJlbnRBY3Rpdml0eSAtPSAxXHJcbiAgICAgICAgdGhpcy5vcGVuQ29udGVudEFjdGl2aXR5KHRoaXMuY3VycmVudEFjdGl2aXR5KVxyXG4gICAgICAgIGlmICh0aGlzLmlzU21hbGxTY3JlZW4oKSkge1xyXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZUNsYXNzZXNPbkVsZW1lbnQodGhpcy5jb250ZW50TmF2LCBcImNvbnRlbnQtbmF2LW9uXCIsIFwiY29udGVudC1uYXYtb2ZmXCIpO1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMudG9nZ2xlQ2xhc3Nlc09uRWxlbWVudCh0aGlzLmNvdXJzZUNvbnRlbnQsIFwiY291cnNlLWNvbnRlbnQtdG9jXCIsIFwiY291cnNlLWNvbnRlbnQtZnNcIik7XHJcbiAgICAgICAgICAgIH0sIDEwMCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgbmV4dEFjdGl2aXR5KCkge1xyXG4gICAgICAgIHRoaXMubGVjdHVyZUhUTUxFbGVtZW50c1t0aGlzLmN1cnJlbnRBY3Rpdml0eV0uY2xhc3NMaXN0LnJlbW92ZShcImN1cnJlbnRcIik7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50QWN0aXZpdHkgKz0gMVxyXG4gICAgICAgIHRoaXMub3BlbkNvbnRlbnRBY3Rpdml0eSh0aGlzLmN1cnJlbnRBY3Rpdml0eSlcclxuICAgICAgICBpZiAodGhpcy5pc1NtYWxsU2NyZWVuKCkpIHtcclxuICAgICAgICAgICAgdGhpcy50b2dnbGVDbGFzc2VzT25FbGVtZW50KHRoaXMuY29udGVudE5hdiwgXCJjb250ZW50LW5hdi1vblwiLCBcImNvbnRlbnQtbmF2LW9mZlwiKTtcclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRvZ2dsZUNsYXNzZXNPbkVsZW1lbnQodGhpcy5jb3Vyc2VDb250ZW50LCBcImNvdXJzZS1jb250ZW50LXRvY1wiLCBcImNvdXJzZS1jb250ZW50LWZzXCIpO1xyXG4gICAgICAgICAgICB9LCAxMDApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcbiAgICBwcml2YXRlIHNlbmRNZXNzYWdlKG1lc3NhZ2U6IFBsYXllckNvbnRlbnRNZXNzYWdlKSB7XHJcbiAgICAgICAgdGhpcy5pRnJhbWUuY29udGVudFdpbmRvdyEucG9zdE1lc3NhZ2UobWVzc2FnZSwgXCIqXCIpO1xyXG4gICAgfTtcclxuXHJcbiAgICBwcml2YXRlIHJlY2VpdmVNZXNzYWdlKGU6IE1lc3NhZ2VFdmVudDxDb250ZW50UGxheWVyTWVzc2FnZT4pOiB2b2lkIHtcclxuICAgICAgICBpZiAoZS5kYXRhLnR5cGUgPT0gXCJyZWdpc3RlckNvbnRlbnRcIikge1xyXG4gICAgICAgICAgICBsZXQgcGFnZUhyZWYgPSBlLmRhdGEuZGF0YS5ocmVmO1xyXG4gICAgICAgICAgICB0aGlzLnJldmVydElmcmFtZUhlaWdodCgpO1xyXG4gICAgICAgICAgICB0aGlzLmRldGVybWFpbmVJZnJhbWVTdGF0dXMocGFnZUhyZWYpXHJcbiAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2UoeyB0eXBlOiBcImNvbnRlbnRTZXR0aW5nc1wiLCBkYXRhOiB0aGlzLmNvbnRlbnRTZXR0aW5ncyB9KTtcclxuICAgICAgICAgICAgaWYgKHRoaXMucHJvZ3Jlc3NNYW5hZ2VyLmNoZWNrUHJvZ3Jlc3ModGhpcy5jb3Vyc2UudG9jTGlzdE9yZGVyW3RoaXMuY3VycmVudEFjdGl2aXR5XS5kb2NuYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kTWVzc2FnZSh7IHR5cGU6IFwiYWN0aXZpdHlTdGF0dXNcIiwgZGF0YTogdHJ1ZSB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZS5kYXRhLnR5cGUgPT0gXCJyZWdpc3RlckNvbnRlbnRIZWlnaHRcIikge1xyXG4gICAgICAgICAgICB0aGlzLmlGcmFtZS5zdHlsZS5oZWlnaHQgPSBlLmRhdGEuZGF0YS5oZWlnaHQgKyAncHgnO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZS5kYXRhLnR5cGUgPT0gXCJyZWdpc3RlckFjdGl2aXR5UHJvZ3Jlc3NcIikge1xyXG4gICAgICAgICAgICBsZXQgcHJvZ3Jlc3MgPSBlLmRhdGEuZGF0YSBhcyBBY3Rpdml0eVByb2dyZXNzO1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuY291cnNlLmluU2luZ2xlTGVjdHVyZU1vZGUoKSlcclxuICAgICAgICAgICAgICAgIHRoaXMubWFya0FzRG9uZSh0aGlzLmN1cnJlbnRBY3Rpdml0eSk7XHJcbiAgICAgICAgICAgIGlmKHRoaXMub25Db3Vyc2VMZWN0dXJlKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9ncmVzc01hbmFnZXIucmVjb3JkUHJvZ3Jlc3ModGhpcy5jb3Vyc2UudG9jTGlzdE9yZGVyW3RoaXMuY3VycmVudEFjdGl2aXR5XS5kb2NuYW1lLCBwcm9ncmVzcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChlLmRhdGEudHlwZSA9PSBcImhpZGVDb250ZW50TW9kYWxcIikge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zaG93aW5nTW9kYWwpIHtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wID0gdGhpcy5zY3JvbGxQb3NpdGlvbkJlZm9yZU1vZGFsO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaG93aW5nTW9kYWwgPSBmYWxzZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChlLmRhdGEudHlwZSA9PSBcInNob3dDb250ZW50TW9kYWxcIikge1xyXG4gICAgICAgICAgICB0aGlzLnNob3dpbmdNb2RhbCA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsUG9zaXRpb25CZWZvcmVNb2RhbCA9IGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgcmV2ZXJ0SWZyYW1lSGVpZ2h0KCkge1xyXG4gICAgICAgIHRoaXMuaUZyYW1lLnN0eWxlLmhlaWdodCA9IFwiMTAwdmhcIjtcclxuICAgIH07XHJcblxyXG4gICAgcHJpdmF0ZSB0b2dnbGVDbGFzc2VzT25FbGVtZW50KGVsZW1lbnQ6IEhUTUxFbGVtZW50LCAuLi5jc3NDbGFzc2VzOiBzdHJpbmdbXSk6IHZvaWQge1xyXG4gICAgICAgIGNzc0NsYXNzZXMuZm9yRWFjaChjc3NDbGFzcyA9PiBlbGVtZW50LmNsYXNzTGlzdC50b2dnbGUoY3NzQ2xhc3MpKTtcclxuICAgIH07XHJcblxyXG4gICAgcHJpdmF0ZSB6b29tV2l0aEZhY3Rvcih6b29tRmFjdG9yOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKHsgdHlwZTogXCJ6b29tQnlGYWN0b3JcIiwgZGF0YTogem9vbUZhY3RvciB9KTtcclxuICAgIH07XHJcblxyXG4gICAgcHJpdmF0ZSBzZXRDdXJyZW50VGl0bGUodGl0bGU6IHN0cmluZykge1xyXG4gICAgICAgIHRoaXMubGVjdHVyZVRpdGxlSGVhZGVyLmlubmVySFRNTCA9IHRpdGxlO1xyXG4gICAgfTtcclxuXHJcbiAgICBwcml2YXRlIGZyYW1lQWN0aXZpdHkobGVjdHVyZU51bWJlcjogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5pRnJhbWUuc2V0QXR0cmlidXRlKFwic3JjXCIsIHRoaXMuY291cnNlLmdldEFjdGl2aXR5VVJMKGxlY3R1cmVOdW1iZXIpKTtcclxuICAgICAgICB0aGlzLnNldEN1cnJlbnRUaXRsZSh0aGlzLmNvdXJzZS50b2NMaXN0T3JkZXJbbGVjdHVyZU51bWJlcl0udGl0bGUpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaXNOYXZWaXNpYmxlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRlbnROYXYuY2xhc3NMaXN0LmNvbnRhaW5zKFwiY29udGVudC1uYXYtb25cIik7XHJcbiAgICB9O1xyXG5cclxuICAgIHByaXZhdGUgaXNTbWFsbFNjcmVlbigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5tYWluLmNsaWVudFdpZHRoIDw9IFBldGxqYVBsYXllci5NRURJQV9RVUVSWV9XSURUSDtcclxuICAgIH07XHJcblxyXG5cclxuICAgIHByaXZhdGUgY3JlYXRlU2VjdGlvbnMobm9kZTogVG9jVHJlZU5vZGUsIHBhcmVudERpdjogSFRNTEVsZW1lbnQsIGxldmVsOiBudW1iZXIpIHtcclxuICAgICAgICBjb25zdCBub2RlRGl2ID0gdGhpcy5jcmVhdGVFbGVtZW50KG5vZGUsIGxldmVsKVxyXG4gICAgICAgIHBhcmVudERpdi5hcHBlbmQobm9kZURpdilcclxuICAgICAgICBpZiAobm9kZS5udW1iZXJPZlRydWVMZWN0dXJlcygpID4gMCkge1xyXG4gICAgICAgICAgICBjb25zdCBjb3Vyc2VTdWJTZWN0aW9uV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ1bFwiKTtcclxuICAgICAgICAgICAgY291cnNlU3ViU2VjdGlvbldyYXBwZXIuY2xhc3NMaXN0LmFkZChcInRvZ2dsZS1vZmZcIiwgXCJzdWItc2VjdGlvbi13cmFwcGVyXCIpO1xyXG4gICAgICAgICAgICBub2RlRGl2LmZpcnN0Q2hpbGQhLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb3Vyc2VTdWJTZWN0aW9uV3JhcHBlci5jbGFzc0xpc3QudG9nZ2xlKFwidG9nZ2xlLW9mZlwiKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2Ygbm9kZS5zdWJOb2Rlcykge1xyXG4gICAgICAgICAgICAgICAgaWYoY2hpbGQuc2hvdWxkSW5jbHVkZU5vZGUoKSB8fCBjaGlsZC5udW1iZXJPZlRydWVMZWN0dXJlcygpID4gMClcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZVNlY3Rpb25zKGNoaWxkLCBjb3Vyc2VTdWJTZWN0aW9uV3JhcHBlciwgbGV2ZWwgKyAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBub2RlRGl2LmFwcGVuZChjb3Vyc2VTdWJTZWN0aW9uV3JhcHBlcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY3JlYXRlRWxlbWVudChub2RlIDogVG9jVHJlZU5vZGUsIGxldmVsIDogbnVtYmVyKXtcclxuICAgICAgICBjb25zdCBub2RlRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpO1xyXG4gICAgICAgIGNvbnN0IHRpdGxlRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7XHJcbiAgICAgICAgbm9kZURpdi5jbGFzc0xpc3QuYWRkKFwidG9jdHJlZS1sXCIgKyBsZXZlbCk7XHJcbiAgICAgICAgdGl0bGVEaXYuY2xhc3NMaXN0LmFkZChcInJlZmVyZW5jZVwiLCBcImludGVybmFsXCIpXHJcbiAgICAgICAgdGl0bGVEaXYuaW5uZXJIVE1MID0gbm9kZS50aXRsZTtcclxuICAgICAgICBub2RlRGl2LmFwcGVuZCh0aXRsZURpdik7ICAgICAgXHJcbiAgICAgICAgaWYgKG5vZGUubnVtYmVyT2ZUcnVlTGVjdHVyZXMoKSA+IDAgJiYgbGV2ZWwgPiAwKSB7XHJcbiAgICAgICAgICAgIHRpdGxlRGl2LmNsYXNzTGlzdC5hZGQoXCJoYXMtY2hpbGRyZW5cIik7XHJcbiAgICAgICAgfSBcclxuICAgICAgICBpZiAobm9kZS5zaG91bGRJbmNsdWRlTm9kZSgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMubGVjdHVyZUhUTUxFbGVtZW50cy5wdXNoKHRpdGxlRGl2KVxyXG4gICAgICAgICAgICB0aXRsZURpdi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNTbWFsbFNjcmVlbigpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50b2dnbGVDbGFzc2VzT25FbGVtZW50KHRoaXMuY29udGVudE5hdiwgXCJjb250ZW50LW5hdi1vblwiLCBcImNvbnRlbnQtbmF2LW9mZlwiKTtcclxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50b2dnbGVDbGFzc2VzT25FbGVtZW50KHRoaXMuY291cnNlQ29udGVudCwgXCJjb3Vyc2UtY29udGVudC10b2NcIiwgXCJjb3Vyc2UtY29udGVudC1mc1wiKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCAxMDApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbGV0IG9yZGVyID0gdGhpcy5jb3Vyc2UudG9jTGlzdE9yZGVyLmluZGV4T2Yobm9kZSlcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRBY3Rpdml0eSAhPT0gb3JkZXIpXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcGVuQ29udGVudEFjdGl2aXR5KG9yZGVyKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBub2RlRGl2XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBvcGVuQ29udGVudEFjdGl2aXR5KGFjdGl2aXR5OiBudW1iZXIsIHJlbG9hZDogYm9vbGVhbiA9IGZhbHNlKSB7XHJcbiAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShcImFjdGl2aXR5XCIsIGFjdGl2aXR5LnRvU3RyaW5nKCkpO1xyXG4gICAgICAgIGlmKCFyZWxvYWQpIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oXCJzY3JvbGxUb3BcIiwgXCIwXCIpO1xyXG4gICAgICAgIHRoaXMuZnJhbWVBY3Rpdml0eShhY3Rpdml0eSk7XHJcbiAgICAgICAgbGV0IHByZXZBY3Rpdml0eSA9IHRoaXMuY3VycmVudEFjdGl2aXR5XHJcbiAgICAgICAgdGhpcy5jdXJyZW50QWN0aXZpdHkgPSBhY3Rpdml0eTtcclxuICAgICAgICBpZiAoIXRoaXMuY291cnNlLmluU2luZ2xlTGVjdHVyZU1vZGUoKSkge1xyXG4gICAgICAgICAgICB0aGlzLmxlY3R1cmVIVE1MRWxlbWVudHNbcHJldkFjdGl2aXR5XS5jbGFzc0xpc3QucmVtb3ZlKFwiY3VycmVudFwiKTtcclxuICAgICAgICAgICAgdGhpcy5sZWN0dXJlSFRNTEVsZW1lbnRzW3RoaXMuY3VycmVudEFjdGl2aXR5XS5jbGFzc0xpc3QuYWRkKFwiY3VycmVudFwiKTtcclxuICAgICAgICAgICAgdGhpcy5sZWN0dXJlSFRNTEVsZW1lbnRzW3RoaXMuY3VycmVudEFjdGl2aXR5XS5wYXJlbnRFbGVtZW50IS5wYXJlbnRFbGVtZW50IS5jbGFzc0xpc3QucmVtb3ZlKFwidG9nZ2xlLW9mZlwiKVxyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUJ1dHRvblN0YXR1cygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIG1hcmtBc0RvbmUobGVjdHVyZU51bWJlcjogbnVtYmVyKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ2RvbmUnICsgdGhpcy5sZWN0dXJlSFRNTEVsZW1lbnRzW2xlY3R1cmVOdW1iZXJdKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHVwZGF0ZUJ1dHRvblN0YXR1cygpIHtcclxuICAgICAgICBpZiAodGhpcy5jdXJyZW50QWN0aXZpdHkgPT0gdGhpcy5jb3Vyc2UudG9jTGlzdE9yZGVyLmxlbmd0aCAtIDEpIHtcclxuICAgICAgICAgICAgdGhpcy5uZXh0QWN0aXZpdHlCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5uZXh0QWN0aXZpdHlCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudEFjdGl2aXR5ID09IDApIHtcclxuICAgICAgICAgICAgdGhpcy5wcmV2aW91c0FjdGl2aXR5QnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMucHJldmlvdXNBY3Rpdml0eUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGRldGVybWFpbmVJZnJhbWVTdGF0dXMoc3JjIDogc3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy5jb3Vyc2VDb250ZW50UGFnZSA9IHRydWUgO1xyXG4gICAgICAgIGxldCBkb2NfcGF0aCA9IHNyYy5yZXBsYWNlKHRoaXMuY291cnNlLmNvbnRlbnRVUkkgKyAnLycsIFwiXCIpXHJcbiAgICAgICAgbGV0IGluZGV4ID0gdGhpcy5jb3Vyc2UuaXNQYXJ0T2ZDb3Vyc2UoZG9jX3BhdGgpXHJcbiAgICAgICAgaWYgKGluZGV4ICE9IC0xKSB7XHJcbiAgICAgICAgICAgIGlmKGluZGV4ICE9IHRoaXMuY3VycmVudEFjdGl2aXR5KVxyXG4gICAgICAgICAgICB0aGlzLm9wZW5Db250ZW50QWN0aXZpdHkoaW5kZXgpXHJcbiAgICAgICAgICAgIHRoaXMub25Db3Vyc2VMZWN0dXJlID0gdHJ1ZVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICB0aGlzLm9uQ291cnNlTGVjdHVyZSA9IGZhbHNlXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7aXNMb2NhbFN0b3JhZ2VJc0F2YWlsYWJsZSwgZ2V0U2Nvcm1BUEksIFNjb3JtV3JhcHBlciB9IGZyb20gXCIuL3V0aWwvVXRpbHNcIlxyXG5pbXBvcnQge0NvdXJzZUNvbmZpZ30gZnJvbSAnLi91dGlsL0NvdXJzZUNvbmZpZydcclxuaW1wb3J0IHtMb2NhbFN0b3JhZ2VNYW5hZ2VyLCBTY29ybVN0b3JhZ2UsIE1vY1N0b3JhZ2UsIENvdXJzZVN0b3JhZ2V9IGZyb20gJy4vdXRpbC9Db3Vyc2VTdG9yYWdlJ1xyXG5pbXBvcnQgeyBQZXRsamFQbGF5ZXIgfSBmcm9tIFwiLi9tb2RlbC9QZXRsamFQbGF5ZXJcIjtcclxucmVxdWlyZShcIi4vY3NzL3N0eWxlLmNzc1wiKVxyXG5cclxudmFyIHBldGxqYVBsYXllcjtcclxuY29uc3QgQ09VUlNFX1RPQ19KU09OX1BBVEggPSBcImNvdXJzZS5qc29uXCJcclxuXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICBmZXRjaChDT1VSU0VfVE9DX0pTT05fUEFUSClcclxuICAgICAgICAudGhlbigoZGF0YSkgPT4gZGF0YS5qc29uKCkpXHJcbiAgICAgICAgLnRoZW4oKGNvdXJzZSkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgY291cnNlQ29uZmlnID0gbmV3IENvdXJzZUNvbmZpZyhjb3Vyc2UpXHJcbiAgICAgICAgICAgIGxldCBzdG9yYWdlIDogQ291cnNlU3RvcmFnZTtcclxuXHJcbiAgICAgICAgICAgIGxldCBzY3JvbUFQSSAgPSBnZXRTY29ybUFQSSgpO1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHNjcm9tQVBJICE9PSAndW5kZWZpbmVkJyAmJiBzY3JvbUFQSSAhPT0gbnVsbCl7XHJcbiAgICAgICAgICAgICAgICBsZXQgc2Nvcm1XcmFwcGVyID0gbmV3IFNjb3JtV3JhcHBlcihzY3JvbUFQSSlcclxuICAgICAgICAgICAgICAgIHN0b3JhZ2UgPSBuZXcgU2Nvcm1TdG9yYWdlKHNjb3JtV3JhcHBlciwgY291cnNlQ29uZmlnKTtcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwib25iZWZvcmV1bmxvYWRcIiwoKSA9PiAge3Njb3JtV3JhcHBlci5kb1VubG9hZChmYWxzZSk7fSk7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm9udW5sb2FkXCIsICgpID0+IHtzY29ybVdyYXBwZXIuZG9VbmxvYWQoKTt9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChpc0xvY2FsU3RvcmFnZUlzQXZhaWxhYmxlKCkpXHJcbiAgICAgICAgICAgICAgICBzdG9yYWdlID0gbmV3IExvY2FsU3RvcmFnZU1hbmFnZXIoY291cnNlQ29uZmlnLnRpdGxlKTtcclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgc3RvcmFnZSA9IG5ldyBNb2NTdG9yYWdlKCk7XHJcbiAgICAgICAgICAgICBwZXRsamFQbGF5ZXIgPSBuZXcgUGV0bGphUGxheWVyKGNvdXJzZUNvbmZpZywgc3RvcmFnZSk7XHJcbiAgICAgICAgfSlcclxufSk7XHJcblxyXG5cclxuIl0sIm5hbWVzIjpbIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsInVuZGVmaW5lZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJ2YWx1ZSIsImJ1aWxkUGF0aCIsImFjdGl2ZV9sZXNzb25zIiwiZXh0ZXJuYWxMaW5rTGlua3MiLCJleHRlcm5hbExpbmtUZXh0cyIsImxhbmciLCJsb25nRGVzYyIsIm5hdl9saW5rIiwicmVxdWlyZW1lbnRzIiwic2hvcnREZXNjIiwidG9jIiwidGl0bGUiLCJ3aWxsTGVhcm4iLCJ4IiwiYXNzaWduIiwidGhpcyIsIm9yZGVyIiwiaSIsImxlbmd0aCIsImoiLCJhY3RpdmVfYWN0aXZpdGllcyIsImNvbmNhdExlY3R1cmVBY3Rpdml0eSIsImdldExlc3NvbnNDb3VudCIsImdldEFjdGl2aXR5T3JkZXJOdW1iZXIiLCJjdXJyZW50TGVjdHVyZSIsImxlY3R1cmVOdW1iZXIiLCJhY3Rpdml0eU51bWJlciIsImdldEFjdGl2aXR5Q291bnQiLCJyZWR1Y2UiLCJhY3Rpdml0eUNvdW50IiwibGVzc29uIiwiZ2V0QWN0aXZpdHlVUkwiLCJsZXNzb25OdW1iZXIiLCJmb2xkZXJfdXJsIiwidG9jX3VybCIsImluU2luZ2xlTGVjdHVyZU1vZGUiLCJpc05leHRMZWN0dXJlUG9zc2libGUiLCJuZXh0TGVjdHVyZSIsImlzUHJldmlvdXNMZWN0dXJlUG9zc2libGUiLCJwcmV2aW91c0xlY3R1cmUiLCJkb2NQYXRoIiwiZG9jbmFtZSIsIm1ldGFEYXRhIiwic3ViTm9kZXMiLCJzaG91bGRJbmNsdWRlTm9kZSIsImFuY2hvcl9saW5rIiwic3RhdHVzIiwibnVtYmVyT2ZUcnVlTGVjdHVyZXMiLCJmbGF0dGVuVHJlZSIsImZpbHRlciIsIm5vZGUiLCJjb3Vyc2UiLCJpbmNsdWRlVG9jIiwiYmFyZUNvbnRlbnRQYXRoIiwiY29udGVudF91cmkiLCJlbmRzV2l0aCIsImNvbnRlbnRVUkkiLCJkZXNjcmlwdGlvbiIsInRvY1RyZWUiLCJjcmVhdGVUcmVlRnJvbUpzb24iLCJ0b2NfdHJlZSIsInRvY0xpc3RPcmRlciIsImluY2x1ZGVfdG9jIiwiaXNQYXJ0T2ZDb3Vyc2UiLCJkb2NfcGF0aCIsIlplcm9QYWQiLCJpbnROdW0iLCJpbnROdW1EaWdpdHMiLCJzdHJUZW1wIiwiaW50TGVuIiwidG9TdHJpbmciLCJzdWJzdHJpbmciLCJmaW5kQVBJIiwid2luIiwidHJpZXMiLCJBUEkiLCJwYXJlbnQiLCJ3aW5kb3ciLCJTQ09STV9GQUxTRSIsInN0YXJ0VGltZVN0YW1wIiwiRGF0ZSIsImZpbmlzaENhbGxlZCIsImluaXRpYWxpemVkIiwicHJvY2Vzc2VkVW5sb2FkIiwicmVhY2hlZEVuZCIsIlNjb3JtUHJvY2Vzc0luaXRpYWxpemUiLCJjb21taXQiLCJMTVNDb21taXQiLCJMTVNJbml0aWFsaXplIiwiZXJyb3JOdW1iZXIiLCJMTVNHZXRMYXN0RXJyb3IiLCJlcnJvckRlc2NyaXB0aW9uIiwiTE1TR2V0RXJyb3JTdHJpbmciLCJMTVNHZXREaWFnbm9zdGljIiwiY29uc29sZSIsImxvZyIsIlNjb3JtUHJvY2Vzc0ZpbmlzaCIsInJlc3VsdCIsIkxNU0ZpbmlzaCIsIlNjb3JtUHJvY2Vzc0dldFZhbHVlIiwiZWxlbWVudCIsIkxNU0dldFZhbHVlIiwiU2Nvcm1Qcm9jZXNzU2V0VmFsdWUiLCJMTVNTZXRWYWx1ZSIsImZpbmlzaFNpbmdsZUFjdGl2aXR5Q291cnNlIiwibWF4U2NvcmUiLCJtaW5TY29yZSIsInJhd1Njb3JlIiwic2V0RmluaXNoQ291cnNlIiwidXBkYXRlQ291cnNlUHJvZ3Jlc3MiLCJwZXJjZW50IiwidG9GaXhlZCIsImRvVW5sb2FkIiwicHJlc3NlZEV4aXQiLCJpbnRUb3RhbE1pbGxpc2Vjb25kcyIsImJsbkluY2x1ZGVGcmFjdGlvbiIsImludEhvdXJzIiwiaW50TWludXRlcyIsImludFNlY29uZHMiLCJpbnRNaWxsaXNlY29uZHMiLCJpbnRIdW5kcmVkdGhzIiwic3RyQ01JVGltZVNwYW4iLCJzY29ybVRpbWUiLCJnZXRUaW1lIiwiTWF0aCIsImZsb29yIiwibGVjdHVyZSIsImFjdGl2aXR5IiwianNvbk9iaiIsIm1ldGFfZGF0YSIsImNoaWxkcmVuIiwibWFwIiwiY2hpbGRKc29uIiwiVG9jVHJlZU5vZGUiLCJyb290IiwiZmxhdHRlbmVkIiwiZmxhdHRlbiIsInB1c2giLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwic2V0SXRlbSIsIkpTT04iLCJzdHJpbmdpZnkiLCJBcnJheSIsImNoZWNrUHJvZ3Jlc3MiLCJwcm9ncmVzc1N0cmluZyIsImUiLCJwYXJzZSIsImluZGV4T2YiLCJyZWNvcmRQcm9ncmVzcyIsInByb2dyZXNzIiwiU0NPUk1fQ09NUExFVEVEIiwiU0NST01fUEFTU0VEIiwic3ciLCJjb21wbGV0aW9uU3RhdHVzQWN0aXZpdHkiLCJjaGVja0lmQ29tcGxldGUiLCJwYXNzZWQiLCJudW1iZXJPZlBhc3NlZEFjdGl2aXRpZXMiLCJsZWN0dXJlSW5kZXgiLCJmaW5kSW5kZXgiLCJwYWdlQ291bnQiLCJsZWN0dXJlVHlwZSIsInByb2dyZXNzUGVyY2VudCIsInNjb3JlIiwicHJvZ3Jlc3NSZWNvcmQiLCJwcm9ncmVzc01hbmFnZXIiLCJjb250ZW50U2V0dGluZ3MiLCJjb250ZW50VGhlbWUiLCJjb250ZW50Wm9vbUZhY3RvciIsImN1cnJlbnRBY3Rpdml0eSIsImxlY3R1cmVIVE1MRWxlbWVudHMiLCJpRnJhbWUiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwibWFpbiIsImNvdXJzZUNvbnRlbnQiLCJ0b2NUb2dnbGUiLCJmb250T3B0aW9uIiwiZm9udE9wdGlvbk1vZGFsIiwibGVjdHVyZVRpdGxlSGVhZGVyIiwicGxheWVySGVhZGVyIiwiY291cnNlVGl0bGUiLCJjb250ZW50TmF2IiwiZW5sYXJnZUZvbnQiLCJyZWR1Y2VGb250IiwibmV4dEFjdGl2aXR5QnV0dG9uIiwicHJldmlvdXNBY3Rpdml0eUJ1dHRvbiIsImNvdXJzZUNvbnRlbnRQYWdlIiwiaW5uZXJIVE1MIiwiY2xhc3NMaXN0IiwiYWRkIiwic3R5bGUiLCJkaXNwbGF5IiwiYXBwZW5kIiwiY3JlYXRlRWxlbWVudCIsImNyZWF0ZVNlY3Rpb25zIiwiaXNTbWFsbFNjcmVlbiIsInByZXZpb3VzU2NyZWVuU2l6ZSIsInBhcnNlSW50Iiwic2Vzc2lvblN0b3JhZ2UiLCJvcGVuQ29udGVudEFjdGl2aXR5IiwiYWRkRXZlbnRMaXN0ZW5lciIsInpvb21XaXRoRmFjdG9yIiwiUGV0bGphUGxheWVyIiwiem9vbUZhY3RvciIsInJlbG9hZFNjcm9sbFBvc2l0aW9uIiwic2V0VGltZW91dCIsInNjcm9sbFRvIiwicmVtb3ZlSXRlbSIsIm9uQ291cnNlTGVjdHVyZSIsInJlY2VpdmVNZXNzYWdlIiwiY29udGFpbnMiLCJ0YXJnZXQiLCJ0b2dnbGUiLCJuYXZTdGF0dXMiLCJpc05hdlZpc2libGUiLCJyZXBsYWNlIiwic2Nyb2xsSW50b1ZpZXciLCJ0b2dnbGVDbGFzc2VzT25FbGVtZW50IiwibmV4dEFjdGl2aXR5IiwicHJldmlvdXNBY3Rpdml0eSIsImJvZHkiLCJzY3JvbGxUb3AiLCJyZW1vdmUiLCJzZW5kTWVzc2FnZSIsIm1lc3NhZ2UiLCJjb250ZW50V2luZG93IiwicG9zdE1lc3NhZ2UiLCJkYXRhIiwidHlwZSIsInBhZ2VIcmVmIiwiaHJlZiIsInJldmVydElmcmFtZUhlaWdodCIsImRldGVybWFpbmVJZnJhbWVTdGF0dXMiLCJoZWlnaHQiLCJtYXJrQXNEb25lIiwic2hvd2luZ01vZGFsIiwic2Nyb2xsUG9zaXRpb25CZWZvcmVNb2RhbCIsImNzc0NsYXNzZXMiLCJmb3JFYWNoIiwiY3NzQ2xhc3MiLCJzZXRDdXJyZW50VGl0bGUiLCJmcmFtZUFjdGl2aXR5Iiwic2V0QXR0cmlidXRlIiwiY2xpZW50V2lkdGgiLCJNRURJQV9RVUVSWV9XSURUSCIsInBhcmVudERpdiIsImxldmVsIiwibm9kZURpdiIsImZpcnN0Q2hpbGQiLCJjaGlsZCIsInRpdGxlRGl2IiwicmVsb2FkIiwicHJldkFjdGl2aXR5IiwicGFyZW50RWxlbWVudCIsInVwZGF0ZUJ1dHRvblN0YXR1cyIsImRpc2FibGVkIiwic3JjIiwiaW5kZXgiLCJmZXRjaCIsInRoZW4iLCJqc29uIiwic3RvcmFnZSIsInRoZUFQSSIsImNvdXJzZUNvbmZpZyIsIkNvdXJzZUNvbmZpZyIsInNjcm9tQVBJIiwib3BlbmVyIiwiU2Nvcm1XcmFwcGVyIiwiU2Nvcm1TdG9yYWdlIiwiaXNMb2NhbFN0b3JhZ2VJc0F2YWlsYWJsZSIsIkxvY2FsU3RvcmFnZU1hbmFnZXIiLCJNb2NTdG9yYWdlIl0sInNvdXJjZVJvb3QiOiIifQ==